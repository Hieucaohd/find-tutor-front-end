{"version":3,"sources":["features/Settings/settings.js","components/location/SettingsLocation.jsx","features/Settings/components/SettingsTutor.jsx"],"names":["require","server_name","token_prefix","updateTutorProfile","a","newTutorInfo","token","id","fetch","method","headers","Authorization","body","JSON","stringify","console","log","updateParentProfile","updateLink","newLink","getName","name","first_name","slice","indexOf","last_name","changePassword","oldPassword","newPassword","SettingsLocation","defaultLocation","onChange","province","district","ward","useState","provinceList","setProvinceList","provinceCode","setProvinceCode","districtList","setDistrictList","districtCode","setDistrictCode","wardList","setWardList","useEffect","getProvinces","getProvinceList","list","getDistricts","getDistrictList","districts","getWards","getWardList","wards","renderList","code","map","item","Number","value","selected","className","e","target","province_code","district_code","ward_code","SettingsTutor","props","tutorData","setTutorData","useSelector","selectToken","userId","selectId_of_user","useForm","register","errors","formState","handleSubmit","onShowSave","setOnShowSave","newTutorProfile","setNewTutorProfile","showLoading","setShowLoading","showSuccessModal","setShowSuccessModal","showFailedModal","setShowFailedModal","getData","GetTutorProfile","data","type","handleOnChangeProfile","cap_day","lop_day","handleChangeLink","linkArr","currentFbLink","linkmodel_set","find","currentInsLink","currentLinkedLink","facebook","url","push","instagram","linkedln","onSubmit","response","length","defaultValue","required","number_phone","minLength","telephone","birthday","profession","khu_vuc_day","rows","experience","achievement","style","display","justifyContent","typeIcon","text","onAgree"],"mappings":"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","file":"static/js/7.2f657ff4.chunk.js","sourcesContent":["const { server_name, token_prefix } = require(\"namespace\");\n\nexport const updateTutorProfile = async ({newTutorInfo, token, id}) => {\n    try {\n        await fetch(`${server_name}/findTutor/tutorDetail/${id}`, {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `${token_prefix} ${token}`,\n            },\n            body: JSON.stringify(newTutorInfo),\n        })\n        return true;\n    } catch (error) {\n        console.log(\"Failed to update tutor's profile: \", error);\n        return false;\n    }\n}\n\nexport const updateParentProfile = async ({newTutorInfo, token, id}) => {\n    try {\n        await fetch(`${server_name}/findTutor/parentDetail/${id}`, {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `${token_prefix} ${token}`,\n            },\n            body: JSON.stringify(newTutorInfo),\n        })\n        return true;\n    } catch (error) {\n        console.log(\"Failed to update parent's profile: \", error);\n        return false;\n    }\n}\n\nexport const updateLink = async ({ token, newLink}) => {\n    try {\n        await fetch(`${server_name}/auth/updateMultipleLink/`, {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `${token_prefix} ${token}`,\n            },\n            body: JSON.stringify(newLink),\n        })\n        return true;\n    } catch (error) {\n        console.log(\"Failed to update user's link: \", error);\n        return false;\n    }\n    \n} \n\nexport const getName = (name) => {\n    return {\n      first_name: name.slice(0, name.indexOf(' ')),\n      last_name: name.slice(name.indexOf(' ') + 1)\n    }\n}\n\nexport const changePassword = async ({token, oldPassword, newPassword}) => {\n    try {\n        await fetch(`${server_name}/auth/changePassword/`, {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `${token_prefix} ${token}`,\n            },\n            body: JSON.stringify({\n                \"old_password\": oldPassword,\n                \"new_password\": newPassword,\n            }),\n        })\n        return true;\n    } catch (error) {\n        console.log(\"Failed to change password: \", error);\n        return false;\n    }\n}\n","import React, { useEffect, useState } from 'react';\nimport { getDistrictList, getProvinceList, getWardList } from './getLocation';\nimport \"./styles.scss\";\n\nSettingsLocation.propTypes = {\n    \n};\n\nfunction SettingsLocation({defaultLocation, onChange}) {\n    const {province, district, ward} = defaultLocation;\n    const [provinceList, setProvinceList] = useState([]);\n    const [provinceCode, setProvinceCode] = useState(province);\n    const [districtList, setDistrictList] = useState([]);\n    const [districtCode, setDistrictCode] = useState(district);\n    const [wardList, setWardList] = useState([]);\n    useEffect(()=>{\n        const getProvinces = async () => {\n            const list = await getProvinceList();\n            setProvinceList(list);\n        }\n        getProvinces();\n    }, [])\n\n    useEffect(()=>{\n        const getDistricts = async () => {\n            const list = await getDistrictList(provinceCode);\n            setDistrictList(list.districts);\n        }\n        provinceCode!==0 && getDistricts();\n    }, [provinceCode])\n\n    useEffect(()=>{\n        const getWards = async () => {\n            const list = await getWardList(districtCode);\n            setWardList(list.wards);\n        }\n        (districtCode!==0) && getWards();\n    }, [districtCode])\n\n    const renderList = (list, code) => {\n        if(!list) return;\n        return list.map( (item) => {\n            if( Number(item.code) === Number(code) ) {\n                return (<option key={item.code} value={item.code} selected>\n                    {item.name}\n                </option>)\n            } else {\n                return (<option key={item.code} value={item.code}>\n                    {item.name}\n                </option>) \n            }\n        })\n    }\n\n    const handleChangeProvince = (e) => {\n        setWardList([]);\n        setProvinceCode(e.target.value);\n        onChange({\n            province_code: e.target.value,\n        })\n    }\n\n    const handleChangeDistrict = (e) => {\n        setDistrictCode(e.target.value);\n        onChange({\n            province_code: provinceCode,\n            district_code: districtCode,\n        })\n    }\n\n    const handleChangeWard = (e) => {\n        onChange({\n            province_code: provinceCode,\n            district_code: districtCode,\n            ward_code: e.target.value,\n        })\n    }\n\n    return (\n        <div className=\"location\">\n            <div className=\"location__field\">\n                <label>Tỉnh thành phố</label>\n                <select name=\"province\" onChange={handleChangeProvince}>\n                    <option key={0} value={0}>\n                        --Lựa chọn--\n                    </option>\n                    {renderList(provinceList, province)}\n                </select>\n            </div>\n            <div className=\"location__field\">\n                <label>Quận, huyện</label>\n                <select name=\"district\" onChange={handleChangeDistrict}> \n                    <option key={0} value={0}>\n                        --Lựa chọn--\n                    </option>\n                    {renderList(districtList, district)}\n            </select>\n            </div>\n            <div className=\"location__field\">\n                <label>Xã phường</label>\n                <select name=\"ward\" onChange={handleChangeWard}> \n                    <option key={0} value={0}>\n                        --Lựa chọn--\n                    </option>\n                    {renderList(wardList, ward)}\n                </select>\n            </div>\n        </div>\n    );\n}\n\n\nexport default SettingsLocation;","import Loading from 'components/Loading/Loading';\nimport SettingsLocation from 'components/location/SettingsLocation';\nimport Modal from 'components/Modal/Modal';\nimport { selectId_of_user, selectToken } from 'features/auth/authSlice';\nimport { GetTutorProfile } from 'graphql/ProfileQueries';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { Fragment } from 'react';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\nimport { getName, updateLink, updateTutorProfile } from '../settings';\n\n\nfunction SettingsTutor(props) {\n    const [tutorData, setTutorData] = useState(null);\n    const token = useSelector(selectToken);\n    const userId = useSelector(selectId_of_user);\n    const {register, formState: { errors }, handleSubmit} = useForm();\n    const [onShowSave, setOnShowSave] = useState(false);\n    const [newTutorProfile, setNewTutorProfile] = useState({});\n    const [showLoading, setShowLoading] = useState(false);\n    const [showSuccessModal, setShowSuccessModal] = useState(false);\n    const [showFailedModal, setShowFailedModal] = useState(false);\n    \n    useEffect(()=> {\n        const getData = async () => {\n            const data = await GetTutorProfile(userId, token);\n            setTutorData(data);\n        }\n        getData();\n    }, [token, userId])\n\n    const renderType = (type) => {\n        if(type === \"gv\") {\n            return (<select onChange={ e => handleOnChangeProfile(e, \"profession\")}>\n                <option value=\"sv\">Sinh Viên</option>\n                <option value=\"gv\" selected>Giáo Viên</option>\n                <option value=\"khac\">Khác</option>\n            </select>)\n        } else if (type === 'sv') {\n            return (<select onChange={ e => handleOnChangeProfile(e, \"profession\")}>\n                <option value=\"sv\" selected>Sinh Viên</option>\n                <option value=\"gv\">Giáo Viên</option>\n                <option value=\"khac\">Khác</option>\n            </select>)\n        } else {\n            return (<select>\n                <option value=\"sv\">Sinh Viên</option>\n                <option value=\"gv\">Giáo Viên</option>\n                <option value=\"khac\" selected>Khác</option>\n            </select>)\n        }\n    }\n\n    const handleOnChangeProfile = (e, type) => {\n        setOnShowSave(true);\n        const target = e.target.value;\n        if(type===\"name\") {\n            const {first_name, last_name} = getName(target);\n            setNewTutorProfile({\n                ...newTutorProfile,\n                \"first_name\": first_name,\n                \"last_name\": last_name,\n                \"cap_day\": tutorData.cap_day || [],\n                \"lop_day\": tutorData.lop_day || [],\n            })   \n        } else {\n            setNewTutorProfile({\n                ...newTutorProfile,\n                [type]: target,\n                \"cap_day\": tutorData.cap_day || [],\n                \"lop_day\": tutorData.lop_day || [],\n            })\n        }\n    }\n\n    const handleOnChangeLocation = ({province_code, district_code, ward_code}) => {\n        setOnShowSave(true);\n        setNewTutorProfile({\n            ...newTutorProfile,\n            province_code: province_code, \n            district_code: district_code,\n            ward_code: ward_code,\n            \"cap_day\": tutorData.cap_day || [],\n            \"lop_day\": tutorData.lop_day || [],\n        }) \n    }\n\n    const handleChangeLink = (data) => {\n        let linkArr = [];\n        const currentFbLink = tutorData?.linkmodel_set?.find(item => item?.name === 'facebook');\n        const currentInsLink = tutorData?.linkmodel_set?.find(item => item?.name === 'instagram');\n        const currentLinkedLink = tutorData?.linkmodel_set?.find(item => item?.name === 'linkedln');\n        if(data.facebook !== currentFbLink?.url) {\n            linkArr.push({\n                ...currentFbLink,\n                url: data.facebook,\n            })\n        }\n\n        if(data.instagram !== currentInsLink?.url) {\n            linkArr.push({\n                ...currentInsLink,\n                url: data.instagram,\n            })\n        }\n\n        if(data.linkedln !== currentLinkedLink?.url) {\n            linkArr.push({\n                ...currentLinkedLink,\n                url: data.linkedln,\n            })\n        }\n        return linkArr;\n    }\n\n    const onSubmit = async (data) => {\n        setShowLoading(true);\n        let response = await updateTutorProfile({\n            newTutorInfo: newTutorProfile,\n            token: token,\n            id: userId,\n        });\n        \n        const newLink = await handleChangeLink(data);\n        if(newLink.length!==0) {\n            response = await updateLink({newLink: newLink, token: token});\n        }\n\n        setShowLoading(false);\n\n        if(response) {\n            setShowSuccessModal(true);\n        } else {\n            setShowFailedModal(true);\n        }\n    }\n\n    return (\n        <Fragment>\n        {tutorData && <form className=\"settings__tutor\" onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"settings__field\">\n                <label>Họ và tên</label>\n                <input type=\"text\" \n                    defaultValue={`${tutorData.first_name} ${tutorData.last_name}`}\n                    {...register(\"name\", { required: true})}\n                    onChange={ e => handleOnChangeProfile(e, \"name\")}\n                />\n                {errors.name && \n                        <span className=\"settings__field__error\">Tên không hợp lệ</span>}    \n            </div>\n            \n            \n            <div className=\"settings__field\">\n                <label>Số điện thoại</label>\n                <input \n                    type=\"number\" \n                    defaultValue={tutorData.number_phone}\n                    {...register(\"telephone\", { required: true, minLength: 8})}\n                    onChange={ e => handleOnChangeProfile(e, \"number_phone\")}\n                />\n                {errors.telephone && \n                        <span className=\"settings__field__error\">Số điện thoại không hợp lệ</span>}    \n            </div>\n            <div className=\"settings__field\">\n                <label>Ngày sinh</label>\n                <input type=\"date\" \n                    defaultValue={tutorData.birthday}\n                    onChange={ e => handleOnChangeProfile(e, \"birthday\")}\n                />\n            </div>\n            <SettingsLocation onChange={handleOnChangeLocation} defaultLocation={{province: tutorData.province_code, ward: tutorData.ward_code, district: tutorData.district_code}}/>\n            <div className=\"settings__field\">\n                <label>Nghề nghiệp</label>\n                {renderType(tutorData.profession)}\n            </div>\n            <div className=\"settings__field\">\n                <label>Khu vực dạy</label>\n                <input \n                    type=\"text\"\n                    defaultValue={tutorData.khu_vuc_day}\n                    onChange={ e => handleOnChangeProfile(e, \"khu_vuc_day\")}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Trường Đại Học/Cao Đẳng </label>\n                <input  \n                    type=\"text\" \n                    onChange={ e => handleOnChangeProfile(e, \"university\")}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Kinh nghiệm </label>\n                <textarea \n                    type=\"text\"\n                    rows = {3}\n                    defaultValue={tutorData.experience}\n                    onChange={ e => handleOnChangeProfile(e, \"experience\")}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Thành tích nổi bật </label>\n                <textarea \n                    type=\"text\"\n                    rows = {3}\n                    defaultValue={tutorData.achievement}\n                    onChange={ e => handleOnChangeProfile(e, \"achievement\")}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Mô tả bản thân </label>\n                <textarea \n                    type=\"text\"\n                    rows = {3}\n                    onChange={value => console.log(value.target.value)}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Link Facebook</label>\n                <input \n                    type=\"text\"\n                    defaultValue={tutorData?.linkmodel_set?.find(item => item?.name === 'facebook')?.url || \"\"}\n                    {...register(\"facebook\")}\n                    onChange={(e) => setOnShowSave(true)}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Link Instagram</label>\n                <input \n                    type=\"text\"\n                    defaultValue={tutorData?.linkmodel_set?.find(item => item?.name === 'instagram')?.url || \"\"}\n                    {...register(\"instagram\")}\n                    onChange={(e) => setOnShowSave(true)}\n                />\n            </div>\n            <div className=\"settings__field\">\n                <label>Link Linkedin</label>\n                <input \n                    type=\"text\"\n                    defaultValue={tutorData?.linkmodel_set?.find(item => item?.name === 'linkedln')?.url || \"\"}\n                    {...register(\"linkedln\")}\n                    onChange={(e) => setOnShowSave(true)}\n                />\n            </div>\n            {onShowSave && <div style={{display: 'flex', justifyContent: 'center'}}>\n                <button type=\"submit\" className=\"settings__save\">Lưu</button>\n            </div>}\n        </form>}\n        {showLoading && <Loading />}\n        {showSuccessModal && <Modal typeIcon=\"check\" text=\"Thay đổi thông tin thành công\" onAgree={() => setShowSuccessModal(false)}/>}\n        {showFailedModal && <Modal typeIcon=\"fail\" text=\"Thay đổi thông tin thất bại\" onAgree={() => setShowFailedModal(false)}/>}\n        </Fragment>\n    );\n}\n\nexport default SettingsTutor;"],"sourceRoot":""}