(this.webpackJsonpbaseapp=this.webpackJsonpbaseapp||[]).push([[6],[,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return T})),n.d(t,"l",(function(){return S}));var r=n(4),i=n.n(r),a=n(6),c=n(26),o=n(16),s=n(25),u=new(n(47).a),l=u.get("userToken")?{status:"idle",token:u.get("userToken"),refresh_token:u.get("userRefreshToken"),id:u.get("userId"),type_tutor:"false"!==u.get("userTypeTutor"),type_parent:"false"!==u.get("userTypeParent"),isSignedIn:"true"===u.get("isSignedIn"),email:u.get("userEmail"),userName:u.get("userName")}:{status:"idle",token:"",refresh_token:"",id:"",type_tutor:"",type_parent:"",isSignedIn:!1,email:"",userName:""},d=Object(c.b)("auth/authLogin",function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o.server_name,"/auth/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(c.b)("/social-auth/google-auth/",function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.server_name,"/social-auth/google-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to login with google: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),f=Object(c.b)("/social-auth/facebook-auth/",function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.server_name,"/social-auth/facebook-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to login with facebook: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),b=Object(c.b)("/auth/logout/",function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.token,r=t.refresh_token,e.next=4,fetch("".concat(o.server_name,"/auth/logout/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(o.token_prefix," ").concat(n)},body:JSON.stringify({refresh_token:r})});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to log out : ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),j=Object(c.b)("/auth/token/refresh/",function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.server_name,"/auth/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.access);case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to get new token: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),h=Object(c.c)({name:"auth",initialState:l,reducers:{setTutorTrue:function(e,t){e.type_tutor=!0,Object(s.g)()},setParentTrue:function(e,t){e.type_parent=!0,Object(s.f)()},setStateFromCookies:function(e){var t=Object(s.a)(),n=t.token,r=t.refreshToken,i=t.id,a=t.typeParent,c=t.typeTutor;e.token=n,e.refresh_token=r,e.id=i,e.type_tutor=c,e.type_parent=a}},extraReducers:function(e){e.addCase(d.pending,(function(e){e.status="loading"})).addCase(d.rejected,(function(e){e.status="error"})).addCase(d.fulfilled,(function(e,t){if(e.status="idle",t.payload){var n=t.payload,r=n.token,i=n.refresh_token,a=n.id,c=n.type_tutor,o=n.type_parent,u=n.email,l=n.username;e.token=r,e.refresh_token=i,e.id=a,e.type_tutor=c,e.type_parent=o,e.isSignedIn=!0,e.email=u,e.userName=l,Object(s.h)(t.payload)}})).addCase(p.pending,(function(e,t){e.status="loading"})).addCase(p.fulfilled,(function(e,t){if(e.status="idle",t.payload){var n=t.payload,r=n.token,i=n.refresh_token,a=n.id,c=n.type_tutor,o=n.type_parent,u=n.email,l=n.username;e.token=r,e.refresh_token=i,e.id=a,e.type_tutor=c,e.type_parent=o,e.isSignedIn=!0,e.email=u,e.userName=l,r&&Object(s.h)(t.payload)}})).addCase(f.pending,(function(e,t){e.status="loading"})).addCase(f.fulfilled,(function(e,t){if(e.status="idle",t.payload){var n=t.payload,r=n.token,i=n.refresh_token,a=n.id,c=n.type_tutor,o=n.type_parent,s=n.email,u=n.username;e.token=r,e.refresh_token=i,e.id=a,e.type_tutor=c,e.type_parent=o,e.isSignedIn=!0,e.email=s,e.userName=u}})).addCase(b.pending,(function(e){e.status="loading",e.token="",e.refresh_token="",e.id="",e.type_tutor="",e.type_parent="",e.isSignedIn=!1,e.email="",Object(s.d)()})).addCase(b.fulfilled,(function(e){e.status="idle"})).addCase(b.rejected,(function(e){e.status="error"})).addCase(j.pending,(function(e){e.status="loading"})).addCase(j.fulfilled,(function(e,t){e.status="idle",e.token=t.payload,Object(s.e)(t.payload)}))}});t.a=h.reducer;var v=h.actions,m=v.setTutorTrue,g=v.setParentTrue,O=(v.setStateFromCookies,function(e){return e.auth.token}),x=function(e){return e.auth.refresh_token},y=function(e){return e.auth.id},_=function(e){return e.auth.type_tutor},k=function(e){return e.auth.type_parent},w=function(e){return e.auth.isSignedIn},T=function(e){return e.auth.email},S=function(e){return e.auth.userName}},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"server_name",(function(){return i})),n.d(t,"endpoint",(function(){return a})),n.d(t,"notification_socket",(function(){return o})),n.d(t,"room_socket",(function(){return s})),n.d(t,"server_name_chat_app",(function(){return l})),n.d(t,"endpoint_chat_app",(function(){return d})),n.d(t,"token_prefix",(function(){return p}));var r="https://timgiasu.findtutorapp.website/api",i=r,a="".concat(r,"/graphql/"),c="wss://www.findtutorapp.website/ws",o="".concat(c,"/notification/"),s="".concat(c,"/room/"),u="https://www.chatapp.findtutorapp.website",l=u,d="".concat(u,"/graphql"),p="Bearer"},,,,function(e,t,n){"use strict";n(1);var r=n(42),i=n.n(r),a=(n(102),n(2));t.a=function(e){var t=e.whiteBkg,n=void 0!==t&&t;return Object(a.jsx)("div",{className:"spinner",style:{backgroundColor:n?"#F4F4F4":"rgba(0,0,0,0.5)"},children:Object(a.jsx)(i.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n.n(r),a=n(6),c=n(16),o=function(){var e=Object(a.a)(i.a.mark((function e(t,n,r,a){var o,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=16;break}return e.prev=1,e.next=4,fetch(c.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})});case 4:return o=e.sent,e.next=7,o.json();case 7:return s=e.sent,e.abrupt("return",s.data[n]);case 11:e.prev=11,e.t0=e.catch(1),console.log("Failed to fetch ".concat(t,": "),e.t0);case 14:e.next=29;break;case 16:return e.prev=16,e.next=19,fetch(c.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(c.token_prefix," ").concat(a)},body:JSON.stringify({query:r})});case 19:return u=e.sent,e.next=22,u.json();case 22:return l=e.sent,e.abrupt("return",l.data[n]);case 26:e.prev=26,e.t1=e.catch(16),console.log("Failed to fetch ".concat(t,": "),e.t1);case 29:case"end":return e.stop()}}),e,null,[[1,11],[16,26]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d}));var r=new(n(47).a),i=function(e){l();var t=e.token,n=e.id,i=e.refresh_token,a=e.type_parent,c=e.type_tutor,o=e.email,s=e.username;r.set("userToken",t,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userRefreshToken",i,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userId",n,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userTypeParent",a,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userTypeTutor",c,{secure:!0,sameSite:!0,maxAge:3540}),r.set("isSignedIn",!0,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userEmail",o,{secure:!0,sameSite:!0,maxAge:3540}),r.set("userName",s,{secure:!0,sameSite:!0,maxAge:3540})},a=function(){r.remove("userTypeParent"),r.set("userTypeParent",!0,{secure:!0,sameSite:!0,maxAge:3540})},c=function(){r.remove("userTypeTutor"),r.set("userTypeTutor",!0,{secure:!0,sameSite:!0,maxAge:3540})},o=function(e){r.set("userToken",e,{secure:!0,sameSite:!0,maxAge:3540})},s=function(){return{token:r.get("userToken"),refreshToken:r.get("userRefreshToken"),id:r.get("userId"),typeParent:"false"!==r.get("userTypeParent"),typeTutor:"false"!==r.get("userTypeTutor")}},u=function(){return r.get("userRefreshToken")},l=function(){r.remove("userToken"),r.remove("userRefreshToken"),r.remove("userId"),r.remove("userTypeParent"),r.remove("userTypeTutor"),r.remove("isSignedIn"),r.remove("userEmail"),r.remove("userName")},d=function(){return"true"===r.get("isSignedIn")}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=function(e){if(e)return"Giao Vien, Sinh Vien"!==e&&("Giao Vien"===e?"Gi\xe1o vi\xean":"Sinh Vien"===e?"Sinh vi\xean":void 0)},i=function(e){return e?"NAM"===e?"Gia s\u01b0 nam":"NU"===e&&"Gia s\u01b0 n\u1eef":""},a=function(e){for(var t=null===e||void 0===e?void 0:e.toString(),n="",r=null===t||void 0===t?void 0:t.length,i=0,a=r-1;a>=0;a--)i++,n=t[a]+n,i%3===0&&i!==r&&(n="."+n);return n},c=function(e){return"".concat({0:"",1:"0",2:"00",3:"000",4:"0000",5:"00000"}[6-String(e).length]).concat(e)}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(4),i=n.n(r),a=n(21),c=n(6),o=n(24),s=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="{\n        user_by_id(id: ".concat(t,") {\n            username\n            imageprivateusermodel {\n                avatar\n            }\n            linkmodel_set {\n                id\n                url\n                name\n            }\n        \ttutormodel {\n                first_name\n                last_name\n                birthday\n                province_code\n                district_code\n                ward_code\n                profession\n                khu_vuc_day\n                experience\n                university\n                achievement\n                lop_day  \n                number_phone\n            }\n  \t    }    \n    }"),e.next=3,Object(o.a)("tutor profile","user_by_id",r,n);case 3:return c=e.sent,e.abrupt("return",Object(a.a)(Object(a.a)({},null===c||void 0===c?void 0:c.tutormodel),{},{username:null===c||void 0===c?void 0:c.username,linkmodel_set:null===c||void 0===c?void 0:c.linkmodel_set,imageprivateusermodel:null===c||void 0===c?void 0:c.imageprivateusermodel}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\n    {\n\t\tuser_by_id(id: ".concat(t,") {\n            username\n            imageprivateusermodel {\n                avatar\n            }\n            linkmodel_set {\n                id\n                url\n                name\n            }\n    \t    parentmodel {\n                number_phone\n                first_name\n                last_name\n                birthday\n                province_code\n                district_code\n                ward_code\n            }\n  \t    }\n    }\n    "),e.next=3,Object(o.a)("parent profile","user_by_id",r,n);case 3:return c=e.sent,e.abrupt("return",Object(a.a)(Object(a.a)({},null===c||void 0===c?void 0:c.parentmodel),{},{username:null===c||void 0===c?void 0:c.username,imageprivateusermodel:null===c||void 0===c?void 0:c.imageprivateusermodel,linkmodel_set:null===c||void 0===c?void 0:c.linkmodel_set}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(e){var t="\n    {\n        user_by_id (id: ".concat(e,") {\n            username\n            imageprivateusermodel {\n                avatar\n            }\n        }\n    }");return Object(o.a)("user info","user_by_id",t)},d=function(){var e=Object(c.a)(i.a.mark((function e(t){var n,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.num,a=t.page,c="\n    {\n        all_room_notification(num_in_page: ".concat(r,", page: ").concat(a,', token:"').concat(n,'") {\n            _id\n            room {\n                id \n                subject\n                lop\n            }\n            text {\n                id\n                user_send {\n                    id\n                    username\n                    imageprivateusermodel {\n                        avatar\n                    }\n                }\n            }\n            is_seen\n            create_at \n        } \n    }\n    '),e.next=4,Object(o.a)("user's notification","all_room_notification",c);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={"To\xe1n":n(109),"L\u1ecbch S\u1eed":n(110),"Ng\u1eef V\u0103n":n(111),"V\u1eadt L\xfd":n(112),"Ti\u1ebfng Anh":n(113),"\u0110\u1ecba L\xfd":n(114),"Ti\u1ebfng Vi\u1ec7t":n(115),"Sinh H\u1ecdc":n(116),"H\xf3a H\u1ecdc":n(117),"M\u1eb7c \u0110\u1ecbnh":n(118)},i={"To\xe1n":n(119),"L\u1ecbch S\u1eed":n(120),"Ng\u1eef V\u0103n":n(121),"V\u1eadt L\xfd":n(122),"Ti\u1ebfng Anh":n(123),"\u0110\u1ecba L\xfd":n(124),"Ti\u1ebfng Vi\u1ec7t":n(125),"Sinh H\u1ecdc":n(126),"H\xf3a H\u1ecdc":n(127),"M\u1eb7c \u0110\u1ecbnh":n(128)}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(129),i=n(130),a=n(131);r.extend(a),r.extend(i);var c=function(e){if(e){var t=r(),n=r(e),i=t.year()-n.year(),a=t.month()-n.month(),c=t.week()-n.week(),o=t.dayOfYear()-n.dayOfYear(),s=t.hour()-n.hour(),u=t.minute()-n.minute();return i>0?"".concat(i," n\u0103m tr\u01b0\u1edbc"):a>0&&o>30?"".concat(a," th\xe1ng tr\u01b0\u1edbc"):c>0&&o>=7?"".concat(c," tu\u1ea7n tr\u01b0\u1edbc"):o>0?"".concat(o," ng\xe0y tr\u01b0\u1edbc"):s>0?"".concat(s," gi\u1edd tr\u01b0\u1edbc"):u>0?"".concat(u," ph\xfat tr\u01b0\u1edbc"):"0 ph\xfat tr\u01b0\u1edbc"}}},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/tutor.b11537b2.webp"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/math.01e1b23a.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/history.44dbf4a2.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/book.6f691e04.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/physics.bd7a7821.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/english.f12ba63c.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/earth-globe.f1661f97.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/tiengviet.f20b6dfe.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/biology.48b8324d.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/chemistry.89c4bea8.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/other.0b5d5a1c.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/math.2280cac2.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/history.cf307c63.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/book.7bc175f5.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/physics.9ca7c806.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/english.cc9d58be.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/earth-globe.8bf3e365.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/tiengviet.153bbd4f.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/biology.6a7d553c.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/chemistry.98340dbb.webp"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/other.3f03b342.webp"},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(35),a=n.n(i),c=n(12),o=n(14),s=n(20),u=n(7),l=n(149),d=n(2);var p=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(l.a,{src:n(61).default}),Object(d.jsx)("h4",{children:"Hi\u1ec7p"})]})};n(104);var f=function(e){return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"message",children:[Object(d.jsxs)("div",{className:"message__all",children:[Object(d.jsx)(u.c,{to:"#",children:Object(d.jsx)(p,{})}),Object(d.jsx)(u.c,{to:"#",children:Object(d.jsx)(p,{})}),Object(d.jsx)(u.c,{to:"#",children:Object(d.jsx)(p,{})}),Object(d.jsx)(u.c,{to:"#",children:Object(d.jsx)(p,{})})]}),Object(d.jsx)("div",{className:"message__inbox"})]})})},b=n(9),j=n(4),h=n.n(j),v=n(6),m=n(57),g=n(11),O=n(15),x=n(148),y=n(36),_=n(16),k=n(37),w=n(42),T=n.n(w),S=n(39),N=n(27),C=n(48);var I=function(e){var t,n,r,i=e.noti,a=e.onClose,c=i.text,o=(i.is_seen,i.create_at),s=i.room,p=function(e,t){var n,r,i,a,c,s,u,l,p,f,b,j,h,v;if(e&&t)switch(e.id){case"1.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["Ph\u1ee5 huynh ",Object(d.jsx)("strong",{children:null===e||void 0===e||null===(n=e.user_send)||void 0===n?void 0:n.username})," \u0111\xe3 t\u1ea1o ph\xf2ng h\u1ecdc m\u1edbi ",Object(d.jsx)("span",{children:" "})]}),image:null===e||void 0===e||null===(r=e.user_send)||void 0===r||null===(i=r.imageprivateusermodel)||void 0===i?void 0:i.avatar};case"2.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["Gia s\u01b0 ",Object(d.jsx)("strong",{children:null===e||void 0===e||null===(a=e.user_send)||void 0===a?void 0:a.username})," \u0111\xe3 \u1ee9ng tuy\u1ec3n v\xe0o l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})," ",Object(d.jsxs)("span",{children:[" \xb7 ",Object(C.a)(o)]})]}),image:null===e||void 0===e||null===(c=e.user_send)||void 0===c||null===(s=c.imageprivateusermodel)||void 0===s?void 0:s.avatar};case"3.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["Gia s\u01b0 ",Object(d.jsx)("strong",{children:null===e||void 0===e||null===(u=e.user_send)||void 0===u?void 0:u.username})," \u0111\xe3 h\u1ee7y \u1ee9ng tuy\u1ec3n v\xe0o l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})," ",Object(d.jsxs)("span",{children:[" \xb7 ",Object(C.a)(o)]})]}),image:null===e||void 0===e||null===(l=e.user_send)||void 0===l||null===(p=l.imageprivateusermodel)||void 0===p?void 0:p.avatar};case"4.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{style:{color:"#33AF33"},children:"Ch\xfac m\u1eebng"})," b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c d\u1ea1y h\u1ecdc l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})]}),image:S.b[null===t||void 0===t?void 0:t.subject.trim()].default};case"5.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["B\u1ea1n \u0111\xe3 b\u1ecb x\xf3a kh\u1ecfi danh s\xe1ch \u1ee9ng tuy\u1ec3n l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})]}),image:S.b[null===t||void 0===t?void 0:t.subject.trim()].default};case"9.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["B\u1ea1n kh\xf4ng c\xf2n l\xe0 gia s\u01b0 d\u1ea1y h\u1ecdc l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})," "]}),image:S.b[null===t||void 0===t?void 0:t.subject.trim()].default};case"10.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["Gia s\u01b0 ",Object(d.jsx)("strong",{children:null===e||void 0===e||null===(f=e.user_send)||void 0===f?void 0:f.username})," kh\xf4ng c\xf2n d\u1ea1y h\u1ecdc l\u1edbp ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})]}),image:null===e||void 0===e||null===(b=e.user_send)||void 0===b||null===(j=b.imageprivateusermodel)||void 0===j?void 0:j.avatar};case"11.1":return{link:"/room/".concat(null===t||void 0===t?void 0:t.id),textNotification:Object(d.jsxs)("p",{children:["L\u1edbp h\u1ecdc ",Object(d.jsxs)("strong",{children:[null===t||void 0===t?void 0:t.subject," ",null===t||void 0===t?void 0:t.lop," ID",Object(N.c)(null===t||void 0===t?void 0:t.id)]})," \u0111\xe3 c\xf3 gia s\u01b0 d\u1ea1y ch\xednh th\u1ee9c"]}),image:null===e||void 0===e||null===(h=e.user_send)||void 0===h||null===(v=h.imageprivateusermodel)||void 0===v?void 0:v.avatar}}};return Object(d.jsxs)(u.b,{to:null===(t=p(c,s))||void 0===t?void 0:t.link,onClick:function(){return a()},className:"noti__list__item",children:[Object(d.jsx)(l.a,{src:null===(n=p(c,s))||void 0===n?void 0:n.image,alt:null===s||void 0===s?void 0:s.subject}),null===(r=p(c,s))||void 0===r?void 0:r.textNotification]})};var F=function(e){var t=e.onClose,n=Object(r.useState)([]),i=Object(O.a)(n,2),a=i[0],o=i[1],s=Object(c.c)(g.i),u=Object(r.useState)(!0),l=Object(O.a)(u,2),p=l[0],f=l[1],b=Object(r.useState)(1),j=Object(O.a)(b,2);return j[0],j[1],Object(r.useEffect)((function(){var e=function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)({token:s,num:6,page:1});case 2:t=e.sent,f(!1),o(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),Object(d.jsxs)("div",{className:"noti__list",children:[Object(d.jsx)("h5",{children:" Th\xf4ng b\xe1o "}),p?Object(d.jsx)(T.a,{className:"noti__list__spinner",type:"ThreeDots",color:"#00BFFF",height:40,width:80}):Object(d.jsx)("ul",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(d.jsx)(I,{noti:e,onClose:function(){return t()}},null===e||void 0===e?void 0:e._id)}))})]})},P=(n(132),n.p+"static/media/notification.5f1fee46.mp3");var A=Object(x.a)({root:{display:"flex",fontSize:20,marginRight:8,marginLeft:4,position:"relative","& svg":{color:"#797575",padding:8,borderRadius:"50%","&:hover":{backgroundColor:"#F0F0F0",cursor:"pointer"}}},notiIcon:{display:"flex",position:"relative",fontSize:35},dot:{width:7,height:7,backgroundColor:"#F02849",position:"absolute",borderRadius:"50%",top:8,right:8,border:"1.5px solid #fff"},overlay:{position:"fixed",top:"40px",left:"0px",bottom:"0px",right:"0px",background:"rgba(0,0,0,0)","z-index":"100"}}),B=function(e){var t=A(),n=Object(c.c)(g.i),i=Object(r.useState)(0),a=Object(O.a)(i,2),o=a[0],s=a[1];Object(r.useEffect)((function(){if(n){var e=new WebSocket(_.notification_socket,["Token",n]);return e.onopen=function(){return console.log("Notification Websocket opened")},e.onclose=function(){return console.log("Notification Websocket closed")},e.onmessage=function(e){s((function(e){return e+1})),new Audio(P).play()},function(){e.close()}}}),[n]),Object(r.useEffect)((function(){document.title=o>0?"(".concat(o,") T\xecm gia s\u01b0 uy t\xedn mi\u1ec5n ph\xed"):"T\xecm gia s\u01b0 uy t\xedn mi\u1ec5n ph\xed"}),[o]);var u=Object(r.useState)(!1),l=Object(O.a)(u,2),p=l[0],f=l[1];return Object(d.jsxs)("div",{className:t.root,children:[Object(d.jsxs)("div",{className:t.notiIcon,children:[Object(d.jsx)(y.g,{onClick:function(){return f(!p),void s(0)}}),o>0&&Object(d.jsx)("div",{className:t.dot})]}),p&&Object(d.jsx)(F,{onClose:function(){return f(!1)}}),p&&Object(d.jsx)("div",{className:t.overlay,onClick:function(){return f(!1)}})]})},R=n(21),L=n(24),V=function(){var e=Object(v.a)(h.a.mark((function e(t,n){var r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\n    {\n        search_tutor(search_infor: "'.concat(t,'") {\n            result {\n                id\n                user {\n                    id\n                    username\n                    imageprivateusermodel{\n                        avatar\n                    }\n                }\n                first_name\n                last_name\n                profession\n            }\n        }\n    }'),e.next=3,Object(L.a)("search tutor","search_tutor",r,n);case 3:return i=e.sent,e.next=6,null===i||void 0===i?void 0:i.result;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(h.a.mark((function e(t,n){var r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\n    {\n        search_parent(search_infor: "'.concat(t,'") {\n            result {\n                id\n                user {\n                    id\n                    username\n                    imageprivateusermodel{\n                        avatar\n                    }\n                }\n                first_name\n                last_name\n            }\n        }\n    }'),e.next=3,Object(L.a)("search parent","search_parent",r,n);case 3:return i=e.sent,e.next=6,null===i||void 0===i?void 0:i.result;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=n(55),D=Object(x.a)({root:{display:"flex",alignItems:"center",padding:"8px",borderRadius:"8px","& h4":{margin:0,"& span":{fontWeight:300}},"& h5":{margin:0,fontSize:"12px",fontWeight:"400"},"&:hover":{backgroundColor:"#ccc",cursor:"pointer"}},avatar:{marginRight:"8px"}});var E=function(e){var t,n,r=e.userInfo,i=e.onShow,a=e.onClose,c=D(),o=r.user,s=r.first_name,u=r.last_name,p=r.profession;return Object(d.jsxs)("div",{className:c.root,onClick:function(){return e=o.id,i(e),void a();var e},children:[Object(d.jsx)(l.a,{className:c.avatar,alt:"avatar",src:(null===o||void 0===o||null===(t=o.imageprivateusermodel)||void 0===t?void 0:t.avatar)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_3I4Y2ydmFBosgWcdoqVBBCsYZksWAhHtjg&usqp=CAU"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h4",{children:[s," ",u," ",Object(d.jsxs)("span",{children:["(",o.username,")"]})]}),Object(d.jsx)("h5",{children:(n=p,"sv"===n?"Sinh Vi\xean":"gv"===n?"Gi\xe1o Vi\xean":"Kh\xe1c")})]})]})},H=Object(x.a)({root:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:800},overlay:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:801},searchForm:{width:"440px",height:"260px",padding:"20px",borderRadius:"4px",backgroundColor:"white",display:"flex",justifyContent:"space-between",flexDirection:"column",zIndex:802},inputSearch:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #ccc",height:"32px",padding:"4px","& input":{flex:1,border:"none",fontSize:"16px"},"& select":{borderRadius:"4px",height:"100%",marginRight:"2px"},"& svg":{fontSize:"24px",margin:"0px 4px",color:"#ccc"}},searchList:{flex:1,padding:0,margin:0,overflow:"auto",marginTop:"8px","& li":{listStyleType:"none"}},notify:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#777373"}});var J=function(e){var t=e.onClose,n=H(),i=Object(r.useState)({search:"",type:"tutor"}),a=Object(O.a)(i,2),o=a[0],s=a[1],u=Object(r.useRef)(null),l=Object(r.useRef)(null),p=Object(r.useRef)(null),f=Object(r.useState)([]),j=Object(O.a)(f,2),m=j[0],x=j[1],y=Object(c.c)(g.i),_=Object(b.f)(),k=function(e){"tutor"===o.type?_.push("/profile/tutor/".concat(e)):_.push("/profile/parent/".concat(e))};Object(r.useEffect)((function(){var e=function(){var e=Object(v.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tutor"!==t.type){e.next=7;break}return e.next=3,V(t.search,y);case 3:n=e.sent,x(n||[]),e.next=11;break;case 7:return e.next=9,z(t.search,y);case 9:r=e.sent,x(r||[]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();""===o.search?x([]):e(o)}),[o,y]);var w=function(){t()};return Object(d.jsxs)("div",{className:n.root,children:[Object(d.jsx)("div",{className:n.overlay,onClick:w}),Object(d.jsxs)("div",{className:n.searchForm,children:[Object(d.jsxs)("div",{className:n.inputSearch,children:[Object(d.jsx)(G.k,{}),Object(d.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm",onChange:function(e){u.current&&clearTimeout(u.current),u.current=setTimeout((function(){s(Object(R.a)(Object(R.a)({},o),{},{search:l.current.value,type:p.current.value}))}),500)},ref:l}),Object(d.jsxs)("select",{name:"choosetype",id:"choosetype",onChange:function(){s(Object(R.a)(Object(R.a)({},o),{},{search:l.current.value,type:p.current.value}))},ref:p,children:[Object(d.jsx)("option",{value:"tutor",children:"Gia S\u01b0"}),Object(d.jsx)("option",{value:"parent",children:"Ph\u1ee5 Huynh"})]})]}),0!==m.length&&Object(d.jsx)("ul",{className:n.searchList,children:m.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(E,{userInfo:e,onShow:k,onClose:w})},e.id)}))}),0===m.length&&Object(d.jsx)("div",{className:n.notify,children:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"})]})]})},q=Object(x.a)({root:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#797575",padding:8,borderRadius:"50%","&:hover":{backgroundColor:"#F0F0F0",cursor:"pointer"}},search:{display:"none"}});var W=function(e){var t=e.onShow,n=q(),r=function(){t()};return Object(d.jsx)("div",{className:n.root,onClick:r,children:Object(d.jsx)(y.i,{onClick:r})})},Y=n(67);var M=function(e){var t=e.onLogOut,n=Object(c.c)(g.k),i=Object(c.c)(g.j),a=Object(c.c)(g.f),o=Object(r.useState)({}),s=Object(O.a)(o,2),p=s[0],f=s[1],b=Object(r.useState)(!1),j=Object(O.a)(b,2),m=j[0],x=j[1],y=Object(r.useState)(!1),_=Object(O.a)(y,2),w=_[0],T=_[1];Object(r.useEffect)((function(){var e=function(){var e=Object(v.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.d)(a);case 2:n=e.sent,f({avatar:null===n||void 0===n||null===(t=n.imageprivateusermodel)||void 0===t?void 0:t.avatar,userName:null===n||void 0===n?void 0:n.username});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var S=function(){t()},N=function(){T(!w),x(!m)};return Object(d.jsxs)("div",{children:[i||n?Object(d.jsxs)("div",{className:"navigation__toggle",children:[Object(d.jsxs)("div",{className:"navigation__toggle__user",onClick:N,children:[Object(d.jsx)(Y.a,{}),Object(d.jsx)("h4",{children:p.userName}),Object(d.jsx)(l.a,{src:p.avatar||null})]}),w&&Object(d.jsxs)("div",{className:"navigation__toggle__dropdown",onClick:N,children:[i&&Object(d.jsx)(u.b,{to:"/createroom",children:"T\u1ea1o ph\xf2ng"}),n&&Object(d.jsx)(u.b,{to:"/profile/tutor/".concat(a),children:"Th\xf4ng tin gia s\u01b0"}),i&&Object(d.jsx)(u.b,{to:"/profile/parent/".concat(a),children:"Th\xf4ng tin ph\u1ee5 huynh"}),(n||i)&&Object(d.jsx)(u.b,{to:"/settings/account",children:"C\xe0i \u0111\u1eb7t t\xe0i kho\u1ea3n"}),Object(d.jsx)(u.b,{to:"/signin",onClick:S,children:"\u0110\u0103ng xu\u1ea5t"})]})]}):Object(d.jsx)(u.b,{to:"/signin",onClick:S,children:" \u0110\u0103ng xu\u1ea5t "}),m&&Object(d.jsx)("div",{className:"navigation__toggle__overlay",onClick:N})]})},K=(n(133),Object(o.a)((function(){return n.e(28).then(n.bind(null,311))}))),U=Object(o.a)((function(){return n.e(19).then(n.bind(null,322))}));var Z=function(){var e=Object(c.b)(),t=Object(c.c)(g.i),i=Object(c.c)(g.h),a=Object(c.c)(g.k),o=Object(c.c)(g.j),s=Object(c.c)(g.f),l=Object(b.f)(),p=Object(r.useRef)(null),f=Object(b.g)(),j=Object(c.c)(g.g),O=Object(r.useRef)(null),x=function(){var n=Object(v.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(g.d)({token:t,refresh_token:i})),l.push("/signin");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(d.jsxs)(r.Fragment,{children:[!j&&"/"===f.pathname&&Object(d.jsx)(U,{}),"/signin"!==f.pathname&&"/signup"!==f.pathname&&Object(d.jsxs)("div",{className:"navigation",ref:O,style:{backgroundColor:j?"white":"transparent",borderBottom:j?"0.5px solid #ccc":"none"},children:[Object(d.jsxs)("div",{className:"navigation__item",children:[Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("h3",{className:"navigation__logo",children:Object(d.jsx)("img",{src:n(61).default,alt:"gia su"})})}),Object(d.jsxs)("div",{className:"navigation__section",children:[a&&Object(d.jsx)(u.b,{to:"/tutorInfo/".concat(s),children:Object(d.jsx)("h4",{children:"Ph\xf2ng c\u1ee7a b\u1ea1n"})}),o&&Object(d.jsx)(u.b,{to:"/parentInfo/".concat(s),children:Object(d.jsx)("h4",{children:"Ph\xf2ng c\u1ee7a b\u1ea1n"})})]})]}),Object(d.jsxs)("div",{className:"navigation__item",children:[j&&Object(d.jsx)(W,{onShow:function(){p.current&&(p.current.style.display="flex")}}),j&&Object(d.jsxs)(u.b,{to:"/message",className:"navigation__item__mess",children:[" ",Object(d.jsx)(m.d,{})]}),j&&Object(d.jsx)(B,{}),j&&Object(d.jsx)(M,{onLogOut:x}),!j&&Object(d.jsx)("button",{className:"navigation__signin",onClick:function(){l.push("/signin")},children:"\u0110\u0103ng nh\u1eadp"})]}),Object(d.jsx)("div",{ref:p,style:{display:"none"},className:"navigation__search",children:Object(d.jsx)(J,{onClose:function(){p.current&&(p.current.style.display="none")}})})]}),j&&Object(d.jsx)("div",{className:"navigation__bottom",children:Object(d.jsx)(K,{userId:s,typeTutor:a,typeParent:o})})]})},Q=Object(o.a)((function(){return Promise.all([n.e(0),n.e(3),n.e(9),n.e(11)]).then(n.bind(null,316))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),X=Object(o.a)((function(){return Promise.all([n.e(3),n.e(18)]).then(n.bind(null,320))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),$=Object(o.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(5),n.e(10)]).then(n.bind(null,313))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),ee=Object(o.a)((function(){return n.e(29).then(n.bind(null,306))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),te=Object(o.a)((function(){return Promise.all([n.e(4),n.e(3),n.e(16)]).then(n.bind(null,321))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),ne=Object(o.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(20)]).then(n.bind(null,307))})),re=Object(o.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(31)]).then(n.bind(null,317))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),ie=Object(o.a)((function(){return n.e(27).then(n.bind(null,308))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),ae=Object(o.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(22)]).then(n.bind(null,318))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),ce=Object(o.a)((function(){return n.e(32).then(n.bind(null,309))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})}),oe=Object(o.a)((function(){return n.e(30).then(n.bind(null,310))}),{fallback:Object(d.jsx)(s.a,{whiteBkg:!0})});var se=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(Z,{}),Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{path:"/signin",component:ae}),Object(d.jsx)(b.a,{exact:!0,path:"/",component:Q}),Object(d.jsx)(b.a,{exact:!0,path:"/signup",component:re}),Object(d.jsx)(b.a,{exact:!0,path:"/tutorInfo/:tutorId",component:X}),Object(d.jsx)(b.a,{exact:!0,path:"/parentInfo/:parentId",component:te}),Object(d.jsx)(b.a,{exact:!0,path:"/room/:roomId",component:$}),Object(d.jsx)(b.a,{exact:!0,path:"/createroom",component:ne}),Object(d.jsx)(b.a,{path:"/role",component:ee}),Object(d.jsx)(b.a,{path:"/profile",component:ce}),Object(d.jsx)(b.a,{exact:!0,path:"/test",component:f}),Object(d.jsx)(b.a,{path:"/settings",component:oe}),Object(d.jsx)(b.a,{path:"*",component:ie})]})]})})},ue=(n(134),n(26)),le=Object(ue.a)({reducer:{auth:g.a}});a.a.render(Object(d.jsx)(c.a,{store:le,children:Object(d.jsx)(se,{})}),document.getElementById("root"))}],[[135,7,8]]]);
//# sourceMappingURL=main.04a9cdad.chunk.js.map