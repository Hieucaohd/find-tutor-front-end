{"version":3,"sources":["features/SignUp/components/SignUpForm.jsx","features/SignUp/SignUp.jsx"],"names":["useStyles","makeStyles","theme","root","breakpoints","down","width","form","up","formField","marginBottom","display","flexDirection","padding","borderRadius","border","error","fontSize","color","submit","backgroundColor","opacity","cursor","label","fontWeight","loading","position","alignItems","justifyContent","height","top","left","right","bottom","SignUpForm","classes","useForm","register","errors","formState","handleSubmit","watch","password","useRef","current","history","useHistory","dispatch","useDispatch","loadingRef","useState","showSuccessModal","setShowSuccessModal","showFailedModal","setShowFailedModal","registerAccount","args","a","fetch","server_name","method","headers","body","JSON","stringify","className","onSubmit","data","style","email","username","then","response","ok","login","name","type","required","minLength","pattern","value","validate","repassword","ref","CircularProgress","Modal","typeIcon","text","onAgree","push","banner","flex","SignUp","props","src","alt"],"mappings":"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","file":"static/js/30.1b7df8ff.chunk.js","sourcesContent":["import { CircularProgress, makeStyles } from '@material-ui/core';\nimport Modal from 'components/Modal/Modal';\nimport { server_name } from 'namespace';\nimport React, { useRef } from 'react';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { login } from '../../auth/authSlice';\n\nfunction SignUpForm() {\n    const classes = useStyles();\n    const {register, formState: { errors }, handleSubmit, watch} = useForm();\n    const password = useRef({});\n    password.current = watch(\"password\", \"\");\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const loadingRef = useRef(null);\n    const [showSuccessModal, setShowSuccessModal] = useState(false);\n    const [showFailedModal, setShowFailedModal] = useState(false);\n    const registerAccount = async (args) => {\n        return await fetch(`${server_name}/auth/register/`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(args),\n        })\n      };\n    const onSubmit = (data) => {\n        loadingRef.current.style.display = \"flex\";\n        registerAccount({\n            email: data.email,\n            username: data.username,\n            password: data.password,\n        }).then((response) => {\n            if(response.ok) {\n                dispatch(login({\n                    email: data.email,\n                    password: data.password,\n                }));\n                setShowSuccessModal(true);\n            } else {\n                setShowFailedModal(true);\n                loadingRef.current.style.display = \"none\";\n            }\n        })\n    }\n\n    return (\n        <div className = {classes.root}>\n            <form className ={classes.form} onSubmit={handleSubmit(onSubmit)}> \n                <h2>Đăng kí tài khoản</h2>\n                \n                <div className ={classes.formField}>\n                        <label className={classes.label}>Tên tài khoản</label>\n                        <input\n                            name=\"username\" \n                            type=\"text\"\n                            {...register(\"username\", { required: true, minLength: 6})}\n                        />\n                        {errors.username && errors.username.type === \"required\" && \n                            <span className ={classes.error}>Cần nhập tên tài khoản</span>}\n                        {errors.username && errors.username.type === \"minLength\" && \n                            <span className ={classes.error}>Tên tài khoản cần ít nhất 6 kí tự</span>}\n                    </div>\n                    <div className ={classes.formField}> \n                        <label className={classes.label}>Email</label>\n                        <input \n                            name=\"email\" \n                            type=\"email\"\n                            {...register('email', {\n                                required: true,\n                                pattern: {\n                                value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                            }})}\n                        />\n                        {errors.email && \n                            <span className ={classes.error}>Nhập đúng email của bạn</span>}\n                    </div>\n                    <div className ={classes.formField}> \n                        <label className={classes.label}>Mật khẩu</label>\n                        <input \n                            name=\"password\" \n                            type=\"password\"\n                            {...register(\"password\", { required: true, minLength: 6})}\n                        />\n                        {errors.password && errors.password.type === \"required\" && \n                            <span className ={classes.error}>Nhập mật khẩu</span>}\n                        {errors.password && errors.password.type === \"minLength\" && \n                            <span className ={classes.error}>Mật khẩu cần ít nhất 6 kí tự</span>}\n                    </div>\n                    <div className ={classes.formField}> \n                        <label className={classes.label}>Nhập lại mật khẩu</label>\n                        <input \n                            name=\"repassword\" \n                            type=\"password\"\n                            {...register(\"repassword\", {\n                                validate: value =>\n                                value === password.current || \"The passwords do not match\"\n                            })}\n                        />\n                        {errors.repassword && \n                            <span className ={classes.error}>Mật khẩu không trùng khớp</span>}\n                    </div>\n                    <div className ={classes.formField}> \n                        <button className ={classes.submit} type=\"submit\" >Đăng kí tài khoản</button>\n                    </div>\n            </form>\n            <div ref={loadingRef}  className ={classes.loading}> \n                <CircularProgress />\n             </div>\n            {showSuccessModal && <Modal typeIcon=\"check\" text=\"Đăng kí tài khoản thành công\" onAgree={ () => history.push(\"/\") }/>}\n            {showFailedModal && <Modal typeIcon=\"fail\" text=\"Đăng kí tài khoản thất bại\" onAgree={() => setShowFailedModal(false)}/>}\n        </div>\n    )\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.down('sm')]: {\n            width: '80%',\n          },\n    },\n    form: {\n        [theme.breakpoints.down('sm')]: {\n            width: '100%',\n          },\n          [theme.breakpoints.up('md')]: { \n            width: '340px',\n          },\n          borderRadius: '8px',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          position: 'relative'\n    },\n    formField: {\n        width: '100%',\n        marginBottom: '16px',\n        display: 'flex',\n        flexDirection: 'column',\n        '& input': {\n        padding: '12px 14px',\n        borderRadius: '8px',\n        border: '0.5px solid #ccc',\n    },\n    '& button': {\n      width: '100%',\n    },\n    },\n    error: {\n        fontSize: '12px',\n        color: 'red',\n    },\n    submit:{\n        backgroundColor: '#5472EA',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        padding: '10px 0px',\n        opacity: 0.8,\n        \"&:hover\": {\n            opacity: 1,\n            cursor: 'pointer'\n        }\n    },\n    label: {\n        fontSize: '14px',\n        fontWeight: '600',\n    },\n    loading: {\n        display: 'none',\n        position: 'fixed',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100%', \n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)', /* Black background with opacity */\n        'z-index': 2,\n    },\n}))\n\n\nexport default SignUpForm;","import { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport SignUpForm from './components/SignUpForm';\n\nfunction SignUp(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <div className={classes.banner}> \n                <img src=\"https://i.ibb.co/R4cCHXL/Student-giving-test-to-teacher-2.webp\" alt=\"Student-giving-test-to-teacher-2\" border=\"0\" />\n            </div>\n            <div className={classes.login}>\n                <SignUpForm />\n            </div>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        height: '100vh',\n        \"& img\": {\n            width: 400,\n            height: 400,\n        },\n    },\n    banner: {\n        flex: 2,\n        backgroundColor: '#c9ddfd',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n        \n    },\n    login: {\n        flex: 3,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        backgroundColor: 'white',\n        \"& h2\": {\n\n        }\n    }\n}))\n\nexport default SignUp;"],"sourceRoot":""}