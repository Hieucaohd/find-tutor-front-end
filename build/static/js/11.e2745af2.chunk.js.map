{"version":3,"sources":["features/ParentRoom/parentroom.js","features/ParentRoom/components/ParentRoomMain/components/RoomInfo.jsx","features/ParentRoom/components/ParentRoomMain/components/NumberPhone.jsx","features/ParentRoom/components/ParentRoomMain/components/TutorItem.jsx","features/ParentRoom/components/ParentRoomMain/ParentRoomMain.jsx","features/ParentRoom/ParentRoom.jsx"],"names":["deleteFromWaitingList","a","waitingId","token","fetch","server_name","method","headers","Authorization","token_prefix","console","log","deleteTutorFromTeachingList","teachingId","isOnList","userId","waitingList","length","i","Number","tutor","user","id","useStyles","makeStyles","theme","root","display","justifyContent","breakpoints","down","flexDirection","alignItems","marginBottom","header","marginTop","up","width","height","marginRight","margin","parentInfo","info","fontSize","fontWeight","marginLeft","infoField","color","time","apply","border","backgroundColor","padding","borderRadius","opacity","cursor","parent","flex","boxShadow","textAlign","borderBottom","parentHeader","parentTime","RoomInfo","room","applyList","addToApplyList","typeParent","teaching","classes","history","useHistory","typeTutorString","type","sexTutorString","sex","className","src","subject","alt","lop","address","price","priceString","toString","ans","len","count","formatPriceString","pricemodel_set","sexteacher","typeteacher","timeoneday","daysStr","days","getDayString","day_can_teach","handleTime","create_at","onClick","other_require","Avatar","avatar","first_name","last_name","username","birthday","slice","push","position","top","right","bottom","left","zIndex","overlay","phone","copy","background","transform","close","NumberPhone","numberPhone","onClose","useState","open","setOpen","style","Tooltip","title","navigator","clipboard","writeText","detail","button","agree","delete","call","TutorItem","tutorInfo","isOwner","onAdd","isTeaching","onDelete","showCheckModal","setShowCheckModal","showDeleteModal","setShowDeleteModal","showNumberPhone","setShowNumberPhone","isThisTutor","imageprivateusermodel","profession","number_teaching","university","number_phone","Modal","typeIcon","text","onAgree","onDisagree","ParentRoomMain","roomDetail","addToTeaching","deleteFromApplyList","deleteFromTeachingList","useSelector","selectId_of_user","handleAddToTeaching","handleDeleteFromApplyList","map","item","ParentRoom","props","selectToken","roomId","useRouteMatch","params","setApplyList","setTeaching","setRoomDetail","selectType_parent","isLoading","setIsLoading","isFirstLoading","setIsFirstLoading","handleMessage","useCallback","message","result","type_action","type_of_list","newList","filter","useEffect","ws","WebSocket","room_socket","onopen","onclose","onmessage","e","JSON","parse","data","getRoomDetail","GetParentRoomDetail","newRoomDetail","getProvinceName","province_code","provinceName","getDistrictName","provinceCode","districtCode","district_code","districtName","getWardName","wardCode","ward_code","wardName","parentProvinceName","parentDistrictName","waitingtutormodel_set","tutorteachingmodel","catchDistrictName","catchProvinceName","money_per_day","time_in_one_day","sex_of_teacher","type_teacher","handleAddToTeachingList","addToTeachingList","response","handleDelFromApplyList","handleDelFromTeachingList","handleAddToApplyList","isSignedIn","parentRoomId","Loading","whiteBkg","main"],"mappings":"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","file":"static/js/11.e2745af2.chunk.js","sourcesContent":["import { server_name, token_prefix } from \"namespace\";\n\nexport const deleteFromWaitingList = async ({waitingId, token}) => {\n    try {\n        await fetch(\n            `${server_name}/findTutor/waitingTutorDetail/${waitingId}`,\n            {\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `${token_prefix} ${token}`,\n              },\n            }\n        );\n        return true;\n    } catch (error) {\n        console.log(\"Failed to delete tutor from waiting list: \", error);\n    }\n}\n\nexport const deleteTutorFromTeachingList = async ({teachingId, token}) => {\n    try {\n        await fetch(\n            `${server_name}/findTutor/teachingDetail/${teachingId}`,\n            {\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `${token_prefix} ${token}`,\n              },\n            }\n        );\n        return true;\n    } catch(error) {\n        console.log(\"Failed to delete tutors from teaching list: \", error)\n    }\n}\n\nexport const isOnList = (userId, waitingList) => {\n  if(!waitingList) return false;\n  if(waitingList?.length === 0) {\n    return false;\n  }\n  for(let i = 0; i<waitingList?.length; i++) {\n    if(Number(waitingList[i]?.tutor?.user?.id) === Number(userId)) {\n      return true;\n    }\n  }\n  return false;\n}","import { Avatar, makeStyles } from '@material-ui/core';\nimport { subject } from 'components/Room/picture';\nimport { handleTime } from 'containers/date';\nimport { isOnList } from 'features/ParentRoom/parentroom';\nimport React from 'react';\nimport { FaBorderAll, FaCalendarDay, FaRegClock, FaTransgender } from \"react-icons/fa\";\nimport { MdAccessTime, MdAttachMoney, MdLocationOn, MdPerson, MdToday } from \"react-icons/md\";\nimport { useHistory } from 'react-router-dom';\n\nfunction RoomInfo( {room, applyList, userId, addToApplyList, typeParent, teaching} ) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const getDayString = (daysStr) => {\n        if(!daysStr || daysStr === \"\") return ;\n        let days = \"Thứ \";\n        for(let i = 0; i<daysStr.length; i++) {\n            days = days + daysStr[i] + ' ';\n        }\n        return days\n    }\n    const formatPriceString = (price) => {\n        if(!price) return;\n        const priceString = price.toString();\n        let ans = \"\";\n        const len = priceString.length;\n        let count = 0;\n        for(let i = len - 1; i >= 0; i--) {\n          count++;\n          ans = priceString[i] + ans;\n          if(count % 3 ===0 && count !== len) {\n            ans = \".\" + ans\n          }\n        }\n        return ans;\n    }\n    const typeTutorString = (type) => {\n        if(!type) return;\n        if(type === \"Giao Vien, Sinh Vien\") {\n            return null;\n        } else if (type === \"Giao Vien\") {\n            return \"Giáo viên\";\n        } else if (type === \"Sinh Vien\") {\n            return \"Sinh viên\"\n        }\n    }\n    const sexTutorString = (sex) => {\n        if(!sex) return;\n        if(sex === \"NU, NAM\") {\n            return null;\n        } else if (sex === \"NAM\") {\n            return \"Gia sư nam\";\n        } else if (sex === \"NU\") {\n            return \"Gia sư nữ\"\n        }\n    }\n    const handleShowParentProfile = (id) => {\n        history.push(`/profile/parent/${id}`)\n    }\n    const handleAddToApplyList = () => {\n        addToApplyList();\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.room}>\n            <div className={classes.header}>\n                <img src={subject[room?.subject] || subject[\"Mặc Định\"]} alt=\"mon hoc\"/>\n                <div className={classes.info}>\n                    <h3>{room?.subject} {room?.lop}</h3>\n                    <h4>{room?.address}</h4>\n                    <div className={classes.infoField}>\n                        <MdAttachMoney />\n                        <span>{formatPriceString(room?.pricemodel_set)} đ/buổi</span>\n                    </div>\n                    {sexTutorString(room?.sexteacher) && <div className={classes.infoField}>\n                        <FaTransgender />\n                        <span>{sexTutorString(room?.sexteacher)}</span>\n                    </div>}\n                    {typeTutorString(room?.typeteacher) && <div className={classes.infoField}>\n                        <MdPerson />\n                        <span>{typeTutorString(room?.typeteacher)}</span>\n                    </div>}\n                    <div className={classes.infoField}>\n                        <FaRegClock />\n                        <span>{room?.timeoneday} tiếng/buổi</span>\n                    </div>\n                    <div className={classes.infoField}>\n                        <MdToday />\n                        <span>{getDayString(room?.day_can_teach)}</span>\n                    </div>\n                    <div className={classes.time}>\n                        <MdAccessTime /> Được đăng {handleTime(room?.create_at)}\n                    </div>\n                    <div>\n                        {(!isOnList(userId, applyList) && !teaching && !typeParent) && <button className={classes.apply} onClick={handleAddToApplyList}>Ứng tuyển</button>}\n                    </div>\n                </div>\n            </div>\n            <div>\n                <h4>Yêu cầu khác</h4>\n                <p>{room?.other_require === \"\" ? \"Không\" : room?.other_require }</p>\n            </div>\n            </div>\n            <div className={classes.parentInfo}>\n                <div className={classes.parent}>\n                    <h4>Chủ phòng</h4>\n                    <div className={classes.parentHeader}>\n                        <Avatar src={room?.parent?.avatar || null}/>\n                        <div>\n                            <h5>{room?.parent?.first_name} {room?.parent?.last_name}</h5>\n                            <span>{room?.parent?.username}</span>\n                        </div>\n                    </div>\n                    \n                    <div className={classes.infoField}>\n                        <MdLocationOn />\n                        <span>{room?.parent?.address}</span>\n                    </div>\n                    <div className={classes.infoField}>\n                        <FaCalendarDay />\n                        <span>{room?.parent?.birthday.slice(0,4)}</span>\n                    </div>\n                    <div className={classes.infoField}>\n                        <FaBorderAll />\n                        <span>Đã tạo 3 phòng</span>\n                    </div>\n                    <h5 className={classes.parentTime}>Tham gia 3 tháng trước</h5>\n                    <button onClick={() => handleShowParentProfile(room.parent.id)}>Xem chi tiết</button>\n                </div>\n            </div>\n            \n        </div>\n    );\n}\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        [theme.breakpoints.down('xs')]: {\n            flexDirection: 'column',\n            alignItems: 'center',\n            marginBottom: 32,\n        },\n        borderBottom: '1px solid #ccc',\n    },\n    header: {\n        display: 'flex',\n        marginBottom: 16,\n        marginTop: 20,\n        [theme.breakpoints.down('xs')]: {\n            alignItems: 'flex-start',\n        },\n        [theme.breakpoints.up('sm')]: {\n            alignItems: 'center',\n        },\n        flex: 3,\n        \"& img\": {\n            marginTop: 8,\n            [theme.breakpoints.down('xs')]: {\n                width: 40,\n                height: 40,\n                marginRight: 12,\n              },\n              [theme.breakpoints.up('sm')]: {\n                width: 140,\n                height: 140,\n                marginRight: 28,\n              },\n        },\n        \"& h1\": {\n            margin: 0,\n        },\n        \"& h2\": {\n            margin: 0,\n        }\n    },\n    // room: {\n    //     flex: 3,\n    // },\n    parentInfo: {\n        marginBottom: 30,\n        marginTop: 20,\n    },\n    info: {\n        display: 'flex',\n        flexDirection: 'column',\n        \"& h3\": {\n            margin: 0,\n            fontSize: 28,\n            fontWeight: 500,\n            marginLeft: 4,\n        },\n        \"& h4\": {\n            margin: 0,\n            fontWeight: 400,\n            marginLeft: 4,\n            marginBottom: 16,\n        }\n    },\n    infoField: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: 4,\n        fontSize: 16,\n        fontWeight: 400,\n        \"& svg\": {\n            marginRight: 8,\n            color: \"#777777\",\n        }\n    },\n    time: {\n        marginTop: 20,\n        marginBottom: 16,\n        display: 'flex',\n        alignItems: 'center',\n        color: \"#777777\",\n        fontSize: 14,\n        \"& svg\": {\n            marginRight: 4,\n            color: \"#777777\",\n            fontSize: 16,\n        }\n    },\n    apply: {\n        border: 'none',\n        backgroundColor: '#0061FF',\n        color: 'white',\n        fontWeight: 600,\n        padding: '8px 16px',\n        fontSize: 16,\n        borderRadius: 4,\n        opacity: '0.8',\n        \"&:hover\": {\n            opacity: 1,\n            cursor: 'pointer',\n        }\n    },\n    parent: {\n\n        width: 220,\n        padding: \"12px 20px 56px 20px\",\n        height: 240,  \n        flex: 2,\n        boxShadow: '0 1px 4px 0 #ccc',\n        borderRadius: 4,\n        backgroundColor: 'white',\n        \"& h4\": {\n            textAlign: 'center',\n            margin: 16,\n            fontSize: 16,\n            borderBottom: '1px solid #ccc',\n        },\n        \"& button\": {\n            border: 'none',\n            backgroundColor: '#d7d5d5',\n            borderRadius: 4,\n            width: \"100%\", \n            padding: 8,\n            fontSize: 16,\n            fontWeight: 600,\n            opacity: 0.8,\n            \"&:hover\": {\n                opacity: 1,\n                cursor: 'pointer',\n            }\n        }\n    },\n    parentHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: 16,\n        \"& .MuiAvatar-root\": {\n            width: 60,\n            height: 60,\n            marginRight: 8,\n        },\n        \"&>div\": {\n            \"& h5\": {\n                margin: 0,\n                fontSize: 16,\n                fontWeight: 500,\n                marginBottom: 4,\n            },\n            \"& span\": {\n                fontSize: 14,\n            }\n        },\n    },\n    parentTime: {\n        fontSize: 14,\n        color: '#777777',\n        fontWeight: 400,\n        margin: \"12px 0px\",\n    }\n}))\n\nexport default RoomInfo;","import { makeStyles } from '@material-ui/core';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport React, { useState } from 'react';\nimport { IoCloseCircleSharp, IoCopy, IoCall } from 'react-icons/io5';\n\nfunction NumberPhone({numberPhone = \"***********\", onClose = null}) {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    return (\n        <div className={classes.root}>\n            <div className={classes.overlay} onClick={() => onClose()}></div>\n            <div className={classes.phone}>\n                <div style={{display: 'flex', alignItems: 'center'}}>\n                    <IoCall />\n                    <span>\n                        {numberPhone}\n                    </span>\n                    <Tooltip title=\"Copy thành công\" open={open}>\n                        <button className={classes.copy} onClick={() => {navigator.clipboard.writeText(numberPhone); setOpen(true) }}>< IoCopy /></button>\n                    </Tooltip>\n                </div>\n                \n                <button className={classes.close} onClick={() => onClose()}><IoCloseCircleSharp /></button>\n\n            </div>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles({\n    root: {\n        position: 'fixed',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 2,\n    },\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,      \n    },\n    phone: {\n        width: 220,\n        height: 60,\n        borderRadius: 4,\n        padding: \"0 8px\",\n        backgroundColor: 'white',\n        zIndex: 2,\n        display: 'flex',\n        justifyContent: 'space-around',\n        alignItems: 'center',\n        border: '1px solid #2fbc5e',\n        position: 'relative',\n    },\n    copy: {\n        border: 'none',\n        background: 'none',\n        color: '#2fbc5e',\n        fontSize: 24,\n        display: 'flex',\n        \"&:hover\": {\n            transform: 'scale(1.2)',\n            cursor: 'pointer',\n        }\n    },\n    close: {\n        // position: 'absolute',\n        border: 'none',\n        background: 'none',\n        color: 'red',\n        right: 0,\n        top: 0,\n        fontSize: 24,\n        display: 'flex',\n        \"&:hover\": {\n            transform: 'scale(1.2)',\n            cursor: 'pointer',\n        }\n    }\n})\n\nexport default NumberPhone;","import { Avatar, makeStyles } from '@material-ui/core';\nimport Modal from 'components/Modal/Modal';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport NumberPhone from './NumberPhone';\n\n\nfunction TutorItem( {tutorInfo = {}, isOwner = false, onAdd = null, userId = 0, isTeaching = false, onDelete=null} ) {\n    const classes = useStyles();\n    const history = useHistory();\n    const {id, tutor} = tutorInfo;\n    const [showCheckModal, setShowCheckModal] = useState(false);\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\n    const [showNumberPhone, setShowNumberPhone] = useState(false);\n    const handleDelete = () => {\n        if(!onDelete) return;\n        onDelete(id);\n        setShowDeleteModal(false);\n    }\n    const handleShowTutorInfo = () => {\n        history.push(`/profile/tutor/${tutor.user.id}`)\n    }\n\n    const handleCheck = () => {\n        if(!onAdd) return;\n        onAdd(id);\n        setShowCheckModal(false);\n    }\n\n    const handleShowText = () => {\n        if(isOwner) return \"Xóa gia sư này khỏi danh sách ?\";\n        else if(isThisTutor) return \"Hủy ứng tuyển/dạy học ?\"\n    }\n\n    //kiểm tra user có phải gia sư này không\n    const isThisTutor = Number(userId) === Number(tutor?.user.id);\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.info}>\n                <div className={classes.user}>\n                    <Avatar className={classes.avatar} src={tutor?.user.imageprivateusermodel?.avatar || null}/>\n                    <button className={classes.detail} onClick={handleShowTutorInfo}>Chi tiết</button>\n                </div>\n                \n                <div>\n                    <h4>{tutor?.first_name} {tutor?.last_name} <span>({tutor?.user.username})</span></h4>\n                    <h5>{tutor?.profession === \"gv\" && \"Giáo Viên\"}</h5>\n                    <h5>{tutor?.profession === \"sv\" && \"Sinh Viên\"}</h5>\n                    <h5><span>Sinh năm</span> {tutor?.birthday.slice(0,4)}</h5>\n                    <h5><span>Đã dạy</span> {tutor?.number_teaching} lớp</h5>\n                    <h5> {tutor?.university}</h5>\n                </div>\n            </div>\n            <div className={classes.button}>\n                { (isOwner && !isTeaching) && <button className={classes.agree} onClick={() => setShowCheckModal(true)}>Đồng ý</button>}\n                { (isOwner || isThisTutor) && <button className={classes.delete} onClick={() => setShowDeleteModal(true)}>Xóa</button>}\n                {isOwner && <button className={classes.call} onClick={() => setShowNumberPhone(true)}>Liên hệ</button>}\n            </div>\n            {showNumberPhone && <NumberPhone numberPhone={tutor?.number_phone} onClose={() => setShowNumberPhone(false)}/>}\n            {showCheckModal && <Modal typeIcon=\"check\" text=\"Đồng ý gia sư này dạy học ?\" onAgree={handleCheck} onDisagree={() => setShowCheckModal(false)}/>}\n            {showDeleteModal && <Modal typeIcon=\"delete\" text={handleShowText()} onAgree={handleDelete} onDisagree={() => setShowDeleteModal(false)}/>}\n        </div>\n    )\n\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        \"display\": \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        padding: \"12px 0px\",\n        borderRadius: 8,\n        marginBottom: 16,\n        boxShadow: '0 1px 4px 0 #ccc',\n        backgroundColor: 'white',\n        \"& h4\": {\n            margin: 0,\n        },\n        \"& h5\": {\n            margin: 0,\n            \"& span\": {\n                color: \"#777777\",\n            }\n        }\n    },\n    user: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        marginRight: 16,\n    },\n    detail: {\n        border: 'none',\n        fontWeight: 600,\n        padding: '4px 8px',\n        backgroundColor: '#d7d5d5',\n        borderRadius: 4,\n        opacity: 0.8,\n        \"&:hover\": {\n            opacity: 1,\n            cursor: \"pointer\"\n        }\n    },\n    info: {\n        display: \"flex\",\n        alignItems: \"center\",\n        marginLeft: 16,\n        \"& h5\": {\n            fontWeight: 400,\n        }\n    },\n    avatar: {\n        width: 72,\n        height: 72,\n        marginBottom: 4,\n    },\n    button: {\n        marginRight: 16,\n        [theme.breakpoints.down('xs')]: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        [theme.breakpoints.up('sm')]: {\n        },\n        \"& button\": {\n            border: 'none',\n            color: 'white',\n            fontWeight: 600,\n            borderRadius: 4,\n            marginRight: 8,\n            opacity: 0.8,\n            \"&:hover\": {\n                opacity: 1,\n                cursor: \"pointer\",\n            },\n            [theme.breakpoints.down('xs')]: {\n                width: 80,\n                padding: '4px 8px',\n                marginBottom: 4,\n            },\n            [theme.breakpoints.up('sm')]: {\n                padding: '8px 16px',\n            },\n        }\n    },\n    agree: {\n        \n        backgroundColor: '#0061FF',\n    },\n    delete: {\n        backgroundColor: \"#EB220B\",\n    },\n    call: {\n        backgroundColor: '#2fbc5e',\n    }\n}));\n\nexport default TutorItem;","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectId_of_user } from '../../../auth/authSlice';\nimport RoomInfo from './components/RoomInfo';\nimport TutorItem from './components/TutorItem';\nimport \"./styles.scss\";\n\n\nfunction ParentRoomMain( {roomDetail = {}, typeParent, applyList, teaching, addToTeaching, deleteFromApplyList, deleteFromTeachingList, addToApplyList} ) {\n    const userId = useSelector(selectId_of_user);\n    // const {\n    //   params: {roomId}\n    // } = useRouteMatch();\n    const classes = useStyles();\n    const isOwner = Number(userId) === Number(roomDetail?.parent?.id);\n\n    const handleAddToApplyList = () => {\n      if(!addToApplyList) return;\n      addToApplyList();\n    }\n\n    const handleAddToTeaching = (id) => {\n      addToTeaching(id);\n    }\n\n    const handleDeleteFromApplyList = (id) => {\n      if(!deleteFromApplyList) return;\n      deleteFromApplyList(id)\n    }\n\n    const handleDeleteFromTeachingList = (id) => {\n      if(!deleteFromTeachingList) return;\n      deleteFromTeachingList(id);\n    }\n\n    return (\n      <div className={classes.root}>\n        <RoomInfo room={roomDetail} applyList={applyList} userId = {userId} addToApplyList={handleAddToApplyList} typeParent={typeParent} teaching={teaching}/>\n        {applyList.length !== 0 && <h5 className={classes.title}>Danh sách ứng tuyển</h5> }\n        {applyList?.map((item) => (\n          <TutorItem key={item?.id} tutorInfo={item} isOwner={isOwner} onAdd={handleAddToTeaching} isTeaching={false} onDelete={handleDeleteFromApplyList} userId={userId}/>\n        ))}\n        {/* {parentInvitedList.length !== 0 && <h5 className={classes.title}>Danh sách được chọn</h5>}\n        {parentInvitedList?.map((item) => (\n          <TutorItem key={item.id} tutorInfo={item} isOwner={isOwner}/>\n        ))} */}\n        {teaching && <h5 className={classes.title}>Gia sư đang dạy</h5>}\n        {teaching && <TutorItem key={teaching.id} tutorInfo={teaching} isOwner={isOwner} userId={userId} isTeaching={true} onDelete={handleDeleteFromTeachingList}/>}\n      </div>\n    );\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \n    [theme.breakpoints.up('md')]: {\n      padding: \"12px 48px\", \n    },\n  },\n  title: {\n    textAlign: \"center\",\n  }\n}))\n\nexport default ParentRoomMain;","import { makeStyles } from \"@material-ui/core/styles\";\nimport { catchDistrictName, catchProvinceName, getDistrictName, getProvinceName, getWardName } from \"components/location/getLocation\";\nimport { selectId_of_user, selectToken, selectType_parent } from \"features/auth/authSlice\";\nimport { isSignedIn } from \"features/auth/cookies\";\nimport { addToApplyList, addToTeachingList } from \"graphql/mutationGraphQl\";\nimport { GetParentRoomDetail } from \"graphql/RoomQueries\";\nimport { room_socket } from \"namespace\";\nimport React, { useEffect, useState } from \"react\";\nimport { useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { deleteFromWaitingList, deleteTutorFromTeachingList } from \"./parentroom\";\nimport ParentRoomMain from \"./components/ParentRoomMain/ParentRoomMain\";\nimport Loading from \"components/Loading/Loading\";\n\n\nconst useStyles = makeStyles(theme=>({\n    root: {\n      [theme.breakpoints.down('sm')]: {\n        padding: \"80px 12px\",\n      },\n      [theme.breakpoints.up('md')]: {\n        padding: \"52px 48px\",\n      },\n    }\n}));\n\nfunction ParentRoom(props) {\n  const classes = useStyles();\n  const token = useSelector(selectToken);\n  const history = useHistory();\n  const {\n    params: {roomId}\n  } = useRouteMatch();\n  const [applyList, setApplyList] = useState([]);\n  // const [parentInvitedList, setParentInvitedList] = useState([]);\n  const [teaching, setTeaching] = useState(null);\n  const [roomDetail, setRoomDetail] = useState({});\n  // const [loading, setLoading] = useState(true);\n  const typeParent = useSelector(selectType_parent);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isFirstLoading, setIsFirstLoading] = useState(true);\n\n  const handleMessage = useCallback((message) => {\n    if(!message) return;\n    const {result, type_action, type_of_list} = message;\n    if(type_action === \"DELETE\") {\n      if(type_of_list === \"waiting_list\") {\n        const newList = applyList.filter((item) => Number(item.id) !== Number(result.id) );\n        setApplyList(newList);\n      } else if(type_of_list === \"tutor_teaching\") {\n        setTeaching(null);\n      }\n    } else if (type_action === \"CREATE\") {\n      if(type_of_list === \"waiting_list\") {\n        setApplyList([\n          ...applyList,\n          result,\n        ])\n      }\n      if(type_of_list === \"tutor_teaching\") {\n        const newList = applyList.filter((item) => Number(item.tutor.id) !== Number(result.tutor.id) );\n        setApplyList(newList);\n        setTeaching(result);\n      }\n    }\n  }, [applyList])\n\n  useEffect(() => {\n    // if(token.length !== 0) {\n      let ws = new WebSocket(`${room_socket}${roomId}/`)\n      \n      ws.onopen = () => console.log('Websocket opened');\n      ws.onclose = () => console.log('Websocket closed');\n      ws.onmessage = e => {\n        setIsLoading(false);\n        const message = JSON.parse(e.data);\n        handleMessage(message);\n      };\n      return () => {\n        ws.close();\n      }\n  }, []);\n\n  \n\n  useEffect(()=> {\n    const getRoomDetail = async () => {\n      const newRoomDetail = await GetParentRoomDetail(roomId, token);\n      const provinceName = await getProvinceName(newRoomDetail?.province_code || 0);\n      const districtName = await getDistrictName({\n        provinceCode: newRoomDetail?.province_code || 0,\n        districtCode: newRoomDetail?.district_code || 0,\n      });\n      const wardName = await getWardName({\n        districtCode: newRoomDetail?.district_code || 0,\n        wardCode: newRoomDetail?.ward_code || 0,\n      });\n      const parentProvinceName = await getProvinceName(newRoomDetail?.parent?.province_code || 0);\n      const parentDistrictName = await getDistrictName({\n        provinceCode: newRoomDetail?.parent?.province_code || 0,\n        districtCode: newRoomDetail?.parent?.district_code || 0,\n      })\n\n      setApplyList(newRoomDetail?.waitingtutormodel_set || []);\n      // setParentInvitedList(newRoomDetail?.tryteachingmodel_set || []);\n      setTeaching(newRoomDetail?.tutorteachingmodel);\n\n      setRoomDetail({\n        ...newRoomDetail,\n        parent: {\n          id: newRoomDetail.parent.user.id,\n          username: newRoomDetail.parent.user.username,\n          first_name: newRoomDetail.parent.first_name,\n          last_name: newRoomDetail.parent.last_name,\n          avatar: newRoomDetail?.parent.user.imageprivateusermodel?.avatar,\n          birthday: newRoomDetail?.parent.birthday,\n          address: `${catchDistrictName(parentDistrictName)}, ${catchProvinceName(parentProvinceName)}`,\n        },\n        pricemodel_set: newRoomDetail.pricemodel_set[0].money_per_day,\n        timeoneday: newRoomDetail.pricemodel_set[0].time_in_one_day,\n        sexteacher: newRoomDetail.pricemodel_set[0].sex_of_teacher,\n        typeteacher: newRoomDetail.pricemodel_set[0].type_teacher,\n        address: `${wardName}, ${catchDistrictName(districtName)}, ${catchProvinceName(provinceName)}`\n      });\n      setIsFirstLoading(false);\n    }\n    getRoomDetail();\n  }, [roomId, token]);\n\n  const handleAddToTeachingList = async (waitingId) => {\n    setIsLoading(true);\n    const response = await addToTeachingList({id: waitingId, token:token});\n    \n    const newList = await applyList.filter((item) => Number(item.id) !== Number(waitingId));\n    await setApplyList(newList);\n    await setTeaching(response);\n    \n    setIsLoading(false);\n  }\n\n  const handleDelFromApplyList = async (waitingId) => {\n    try {\n      setIsLoading(true);\n      const response = await deleteFromWaitingList({waitingId: waitingId, token: token});\n      if(response) {\n        const newList = await applyList.filter((item) => Number(item.id) !== Number(waitingId));\n        await setApplyList(newList);\n      }\n      setIsLoading(false);\n    } catch (error) {\n\n    }\n  }\n\n  const handleDelFromTeachingList = async (teachingId) => {\n    setIsLoading(true);\n    try {\n      const response = await deleteTutorFromTeachingList({teachingId: teachingId, token: token});\n      if(response) {\n        await setTeaching(null);\n      }\n      setIsLoading(false);\n    } catch (error) {\n\n    }\n  }\n\n  const handleAddToApplyList = async () => {\n    if(!isSignedIn()) history.push(\"/signin\");\n    try {\n      setIsLoading(true);\n      const response = await addToApplyList({token: token, parentRoomId: roomId});\n      setApplyList([\n        ...applyList,\n        response,\n      ])\n      setIsLoading(false);\n    }\n    catch (error) {\n\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      {!isFirstLoading ? <ParentRoomMain \n        roomDetail={roomDetail} \n        className={classes.main} \n        // isLoading={loading}\n        applyList={applyList} \n        // parentInvitedList={parentInvitedList}\n        teaching={teaching}\n        addToTeaching = {handleAddToTeachingList}\n        deleteFromApplyList = {handleDelFromApplyList}\n        deleteFromTeachingList = {handleDelFromTeachingList}\n        addToApplyList = {handleAddToApplyList}\n        typeParent={typeParent}\n      /> : <Loading whiteBkg={true} />}\n      {isLoading && <Loading />}\n    </div>\n  );\n}\n\nexport default ParentRoom;"],"sourceRoot":""}