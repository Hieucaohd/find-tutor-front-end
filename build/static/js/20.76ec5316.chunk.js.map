{"version":3,"sources":["components/location/getLocation.js","components/Room/Room.jsx","features/ParentRoom/parentroom.js","graphql/TutorRoomQueries.js","features/Tutor/TutorInfor.jsx"],"names":["getProvinceList","a","fetch","response","json","responseJSON","console","log","getDistrictList","code","getWardList","getProvinceName","find","item","province","getDistrictName","provinceCode","districtCode","district","getWardName","wardCode","ward","catchProvinceName","name","search","slice","catchDistrictName","replace","catchWardName","UserRoomButton","loadable","HomeButton","InfoButton","Room","room","onDelete","onCheck","onWait","onHome","typeTutor","typeParent","type","useState","address","setAddress","useEffect","getAddress","province_code","provinceName","district_code","districtName","className","xs","sm","md","lg","mb","display","justifyContent","alignItems","getStringId","roomId","parent","user","username","handleTime","create_at","src","smallerSubject","subject","trim","default","alt","lop","formatPriceString","pricemodel_set","money_per_day","getSexOfTeacher","sex_of_teacher","getTypeTutorString","type_teacher","time_in_one_day","number_waiting","id","roomAddress","deleteFromWaitingList","waitingId","token","server_name","method","headers","Authorization","token_prefix","deleteTutorFromTeachingList","teachingId","isOnList","userId","waitingList","length","i","Number","tutor","getTutorRoomList","query","fetchGraphQl","parentRoom","tutormodel","useStyles","makeStyles","theme","root","marginTop","breakpoints","down","padding","up","margin","marginLeft","apply","boxShadow","backgroundColor","borderRadius","marginBottom","label","textAlign","fontSize","borderTopLeftRadius","borderTopRightRadius","teaching","none","fontWeight","fontStyle","TutorInfor","useSelector","selectToken","classes","selectId_of_user","applyList","setApplyList","teachingList","setTeachingList","fetchRoomList","listRoom","waitingtutormodel_set","tutorteachingmodel_set","handleDeleteFromApplyList","newList","forEach","push","handleDeleteFromTeachingList","Grid","container","map","parent_room"],"mappings":"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","file":"static/js/20.76ec5316.chunk.js","sourcesContent":["export const getProvinceList = async () => {\n    try {\n        const response = await fetch(\"https://provinces.open-api.vn/api/\");\n        const responseJSON = await response.json();\n        return responseJSON;\n    } catch (error) {\n        console.log('error to get province list: ', error);\n    }\n}\n\nexport const getDistrictList = async (code) => {\n    try {\n        const response = await fetch(`https://provinces.open-api.vn/api/p/${code}?depth=2`);\n        const responseJSON = await response.json();\n        return responseJSON;\n    } catch (error) {\n        console.log('error to get district list: ', error);\n    }\n}\n\nexport const getWardList = async (code) => {\n    try {\n        const response = await fetch(`https://provinces.open-api.vn/api/d/${code}?depth=2`);\n        const responseJSON = await response.json();\n        return responseJSON;\n    } catch (error) {\n        console.log('error to get ward list: ', error);\n    }\n}\n\nexport const getProvinceName = async (code) => {\n    try {\n        const response = await fetch(\"https://provinces.open-api.vn/api/\");\n        const responseJSON = await response.json();\n        const province = await responseJSON.find( (item)=> {\n            return item[\"code\"] === code;\n        })\n        return province[\"name\"];\n    } catch(error) {\n        console.log('Failed to get province name: ', error)\n    }\n}\n\nexport const getDistrictName = async ({provinceCode, districtCode}) => {\n    try {\n        const response = await fetch(`https://provinces.open-api.vn/api/p/${provinceCode}?depth=2`);\n        const responseJSON = await response.json();\n        const district = await responseJSON[\"districts\"].find( (item)=> {\n            return item[\"code\"] === districtCode;\n        });\n        return district[\"name\"];\n    } catch (error) {\n        console.log('Failed to get district name: ', error);\n    }\n}\n\nexport const getWardName = async ({districtCode, wardCode}) => {\n    try {\n        const response = await fetch(`https://provinces.open-api.vn/api/d/${districtCode}?depth=2`);\n        const responseJSON = await response.json();\n        const ward = await responseJSON[\"wards\"].find( (item)=> {\n            return item[\"code\"] === wardCode;\n        });\n        return ward[\"name\"];\n    } catch (error) {\n        console.log('Failed to get ward name: ', error);\n    }\n}\n\nexport const catchProvinceName = (name) => {\n    if(!name) return \"\";\n    if(name.search('Thành phố')!==-1) {\n        return name.slice(10);\n    }\n    else if(name.search('Tỉnh')!==-1) {\n        return name.slice(5)\n    }\n    return name;\n}\n\nexport const catchDistrictName = (name) => {\n    if(!name) return \"\";\n    if(name.search('Quận')!==-1){\n        return name.replace(\"Quận\", \"Q.\");\n    }\n    else if(name.search('Huyện')!==-1){\n        return name.replace(\"Huyện\", \"H.\");\n    }\n    else if(name.search('Thành phố')!==-1){\n        return name.replace('Thành phố', 'TP.');\n    }\n    else if(name.search('Thị xã')!==-1){\n        return name.replace('Thị xã', 'TX.');\n    }\n    return name;\n}\n\nexport const catchWardName = (name) => {\n    if(!name) return \"\";\n    if(name.search('Phường')!==-1){\n        return name.replace(\"Phường\", \"P.\");\n    }\n    return name;\n}","import loadable from '@loadable/component';\nimport { Box, Grid } from '@material-ui/core';\nimport { handleTime } from 'containers/date';\nimport React, { useEffect, useState } from 'react';\nimport { AiOutlineClockCircle } from \"react-icons/ai\";\nimport { IoLocationOutline, IoMaleFemaleOutline, IoSchoolOutline, IoTimerOutline } from \"react-icons/io5\";\nimport { catchDistrictName, catchProvinceName, getDistrictName, getProvinceName } from '../location/getLocation';\nimport { smallerSubject } from \"./picture\";\nimport { formatPriceString, getSexOfTeacher, getStringId, getTypeTutorString } from './room.js';\nimport \"./styles.scss\";\n\nconst UserRoomButton = loadable(() => import('./components/UserRoomButton'))\nconst HomeButton = loadable(() => import('./components/HomeButton'))\nconst InfoButton = loadable(() => import('./components/InfoButton'))\n\n\nfunction Room( {room, onDelete, onCheck, onWait, onHome=false, typeTutor=false, typeParent=false, type} ) {\n    const [address, setAddress] = useState(\"\");\n\n    const handleDelete = () => {\n        onDelete(room.id);\n    }\n\n    const handleCheck = () => {\n        onCheck(room.id);\n    }\n\n\n    useEffect( () => {\n        const getAddress = async () => {\n            const provinceName = await getProvinceName(room.province_code);\n            const districtName = await getDistrictName({\n                provinceCode: room.province_code,\n                districtCode: room.district_code,\n            });\n            setAddress(`${districtName ? `${catchDistrictName(districtName)},` : \"\"} ${ provinceName ? `${catchProvinceName(provinceName)}` : \"\" }`)\n        }\n        getAddress();\n    }, [room.province_code, room.district_code]);\n    \n    return (\n        <Grid item key={room.id} className=\"room\" xs={12} sm={6} md={4} lg={3} >\n            <Box mb={4} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n            \n            <div className=\"item__room\">\n                <div className=\"item__room__avatar\">\n                    {/* <Avatar \n                        src = {room?.parent?.user?.imageprivateusermodel?.avatar || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_3I4Y2ydmFBosgWcdoqVBBCsYZksWAhHtjg&usqp=CAU\"}\n                    /> */}\n                ID{getStringId(room.roomId)} · {room?.parent?.user?.username}\n                </div>\n                <span className=\"item__room__clock\"><AiOutlineClockCircle/>{handleTime(room?.create_at)}</span>\n                <div className=\"item__room__thumbnail\">\n                    {/* <img src={subject[room.subject.trim()] || subject[\"Mặc Định\"]} alt=\"mon hoc\"/> */}\n                    <img src={smallerSubject[room.subject.trim()].default || smallerSubject[\"Mặc Định\"].default} alt={room.subject}/>\n                    <div>\n                        <h3>{room.subject} <span>{room.lop}</span></h3>\n                        <h5>{formatPriceString(room?.pricemodel_set[0]?.money_per_day)} đ/buổi</h5>\n                    </div>\n                </div>\n                <div className=\"item__room__info\">\n                    {getSexOfTeacher(room?.pricemodel_set[0]?.sex_of_teacher) && <div>\n                        <IoMaleFemaleOutline /> {getSexOfTeacher(room?.pricemodel_set[0]?.sex_of_teacher)}\n                    </div>}\n                    { getTypeTutorString(room?.pricemodel_set[0]?.type_teacher) && <div>\n                        <IoSchoolOutline /> {getTypeTutorString(room?.pricemodel_set[0]?.type_teacher)}\n                    </div>}\n                    <div>\n                        <IoLocationOutline /> {address}\n                    </div>\n                    <div>\n                        <IoTimerOutline /> {room?.pricemodel_set[0]?.time_in_one_day} tiếng/buổi\n                    </div>\n                </div>\n                <span className=\"item__room__current\">Có {room.number_waiting} gia sư đang ứng tuyển</span>\n                {type===\"home\" && <HomeButton onCheck={handleCheck} id={room.roomId} roomAddress={`/room/${room.roomId}`} typeParent={typeParent}/>}\n                {type===\"userroom\" && <UserRoomButton onDelete={handleDelete} roomAddress={`/room/${room.roomId}`}/>}\n                {type===\"info\" && <InfoButton roomAddress={`/room/${room.roomId}`}/>}\n\n            </div>\n\n        </Box>\n        </Grid>\n    );\n}\n\nexport default Room;\n\n// mutation {\n//     create_parent_room(input_fields: {\n//       lop: 12,\n//       province_code: 1,\n//       ward_code: 1,\n//       district_code: 1,\n//       detail_location: \"ha noi\",\n//       day_can_teach: [2,3],\n//       subject: \"toan\",\n//       prices:{\n//         time_in_one_day: 4,\n//         money_per_day: 15000,\n//         type_teacher: \"gv\",\n//         sex_of_teacher: \"nu\"\n//       }\n//    })\n//     {\n//       parent_room{\n//         id\n//         lop\n//         province_code\n//         district_code\n//         ward_code\n//       }\n//     }\n//   }","import { server_name, token_prefix } from \"namespace\";\n\nexport const deleteFromWaitingList = async ({waitingId, token}) => {\n    try {\n        await fetch(\n            `${server_name}/findTutor/waitingTutorDetail/${waitingId}`,\n            {\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `${token_prefix} ${token}`,\n              },\n            }\n        );\n        return true;\n    } catch (error) {\n        console.log(\"Failed to delete tutor from waiting list: \", error);\n    }\n}\n\nexport const deleteTutorFromTeachingList = async ({teachingId, token}) => {\n    try {\n        await fetch(\n            `${server_name}/findTutor/teachingDetail/${teachingId}`,\n            {\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `${token_prefix} ${token}`,\n              },\n            }\n        );\n        return true;\n    } catch(error) {\n        console.log(\"Failed to delete tutors from teaching list: \", error)\n    }\n}\n\nexport const isOnList = (userId, waitingList) => {\n  if(!waitingList) return false;\n  if(waitingList?.length === 0) {\n    return false;\n  }\n  for(let i = 0; i<waitingList?.length; i++) {\n    if(Number(waitingList[i]?.tutor?.user?.id) === Number(userId)) {\n      return true;\n    }\n  }\n  return false;\n}","import { fetchGraphQl } from \"./graphQl\"\n\nexport const GetTutorWaitingList =  async (id) => {\n    const query = `\n    {\n        user_by_id(id: ${id}){\n            tutormodel {\n                waitingtutormodel_set {\n                    id\n                    parent_room {\n                        id\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        number_waiting\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                        }\n                    }\n                }  \n            }\n        }\n    }\n    `\n    const tutorModel = await fetchGraphQl(\"tutor's waiting list\", \"user_by_id\", query);\n    const parentRoom = await tutorModel?.tutormodel.waitingtutormodel_set.map((item) => {\n        return {...item.parent_room, roomId: item.parent_room.id, id: item.id};\n    });\n    return parentRoom;\n}\n\nexport const GetTutorInvitedList =  async (id) => {\n    const query = `\n    {\n        user_by_id(id: ${id}){\n            tutormodel {\n                listinvitedmodel_set {\n                    id\n                    parent_room{\n                        id\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        parent {\n                            user {\n                                id\n                                username\n                                imageprivateusermodel {\n                                    avatar\n                                }\n                        }\n                        number_waiting\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                        }\n                    }\n                }  \n            }\n        }\n    }\n    `\n    const tutorModel = await fetchGraphQl(\"tutor's invited list\", \"user_by_id\", query);\n    const parentRoom = await tutorModel?.tutormodel.listinvitedmodel_set.map((item) => {\n        return {...item.parent_room, roomId: item.parent_room.id, id: item.id};\n    });\n    return parentRoom;\n}\n\nexport const GetTutorTryTeachingList = async (id) => {\n    const query = ` \n    {\n        user_by_id(id: ${id}){\n            tutormodel {\n                tryteachingmodel_set {\n                    id\n                    parent_room{\n                        id\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        number_waiting\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                          }\n                    }\n                }  \n            }\n        }\n    }`\n    const tutorModel = await fetchGraphQl(\"tutor's try teaching list\", \"user_by_id\", query);\n    const parentRoom = await tutorModel?.tutormodel.tryteachingmodel_set.map((item) => {\n        return {...item.parent_room, roomId: item.parent_room.id, id: item.id};\n    });\n    return parentRoom;\n};\n\nexport const GetTutorTeachingList = async (id) => {\n    const query = ` \n    {\n        user_by_id(id: ${id}){\n            tutormodel {\n                tutorteachingmodel_set {\n                    id\n                    parent_room{\n                        id\n                        parent {\n                            user {\n                                username\n                            }\n                        }\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        number_waiting\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                          }\n                    }\n                }  \n            }\n        }\n    }`\n    const tutorModel = await fetchGraphQl(\"tutor's teaching list\", \"user_by_id\", query);\n    const parentRoom = await tutorModel?.tutormodel.tutorteachingmodel_set.map((item) => {\n        return {...item.parent_room, roomId: item.parent_room.id, id: item.id};\n    });\n    return parentRoom;\n};\n\nexport const getTutorRoomList = async (id) => {\n    const query = ` \n    {\n        user_by_id(id: ${id}){\n            tutormodel {\n                waitingtutormodel_set {\n                    id\n                    parent_room {\n                        id\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        parent {\n                            user {\n                                username\n                            }\n                        }\n                        number_waiting\n                        create_at\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                        }\n                    }\n                } \n                tutorteachingmodel_set {\n                    id\n                    parent_room{\n                        id\n                        province_code\n                        district_code\n                        ward_code\n                        subject\n                        lop\n                        parent {\n                            user {\n                                username\n                            }\n                        }\n                        number_waiting\n                        create_at\n                        pricemodel_set {\n                            money_per_day\n                            time_in_one_day\n                            type_teacher\n                            sex_of_teacher\n                          }\n                    }\n                }  \n            }\n        }\n    }`\n    const parentRoom = await fetchGraphQl(\"tutor's teaching list\", \"user_by_id\", query);\n    return parentRoom.tutormodel;\n}\n","import { Grid, makeStyles } from \"@material-ui/core\";\nimport Room from \"components/Room/Room\";\nimport { deleteFromWaitingList, deleteTutorFromTeachingList } from \"features/ParentRoom/parentroom\";\nimport { getTutorRoomList } from \"graphql/TutorRoomQueries\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectId_of_user, selectToken } from \"../auth/authSlice\";\n\nfunction TutorInfor() {\n  const token = useSelector(selectToken);\n  const classes = useStyles();\n  const userId = useSelector(selectId_of_user);\n  const [applyList, setApplyList] = useState([]);\n  const [teachingList, setTeachingList] = useState([]);\n  \n  useEffect(() => {\n    const fetchRoomList = async () => {\n      const listRoom = await getTutorRoomList(userId);\n      await setApplyList(listRoom.waitingtutormodel_set);\n      await setTeachingList(listRoom.tutorteachingmodel_set);\n  }\n  \n    if (token) {\n      // dispatch something here.\n      fetchRoomList();\n    }\n  }, [token, userId]);\n\n  const handleDeleteFromApplyList = async (waitingId) => {\n    try {\n      await deleteFromWaitingList({token: token, waitingId: waitingId});\n      const newList = [];\n      await applyList.forEach((item) => {\n        if(Number(item.id) !== Number(waitingId)) {\n          newList.push(item);\n        }\n      });\n      setApplyList(newList);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const handleDeleteFromTeachingList = async (teachingId) => {\n    try {\n      await deleteTutorFromTeachingList({token: token, teachingId: teachingId});\n      const newList = [];\n      await teachingList.forEach((item) => {\n        if(Number(item.id) !== Number(teachingId)) {\n          newList.push(item);\n        }\n      });\n      setTeachingList(newList);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.apply}>\n        <h5 className={classes.label}>Phòng đã ứng tuyển</h5>\n        {applyList?.length ? <Grid container>\n        {applyList?.map((room)=> (\n             <Room key={room.id} room={{...room.parent_room, id: room.id, roomId: room.parent_room.id}} onDelete={handleDeleteFromApplyList} type=\"userroom\"/>\n        ))}\n        </Grid> : <h5 className={classes.none}>(Không có phòng nào)</h5>}\n      </div>\n      <div className={classes.teaching}>\n        <h5 className={classes.label}>Danh sách dạy học</h5>\n        {teachingList?.length !== 0 ? <Grid container>\n        {teachingList?.map((room)=> (\n             <Room key={room.id} room={{...room.parent_room, id: room.id, roomId: room.parent_room.id}} onDelete={handleDeleteFromTeachingList} type=\"userroom\"/>\n        ))}\n        </Grid> : <h5 className={classes.none}>(Không có phòng nào)</h5> }\n      </div>\n        \n    </div>\n  );\n}\n\nconst useStyles = makeStyles( theme => ({\n  root: {\n    marginTop: \"40px\",\n    [theme.breakpoints.down('xs')]: {\n      padding: \"52px 24px\",\n    },\n    [theme.breakpoints.up('sm')]: {\n      padding: \"52px\",\n    },\n    \"&>h4\": {\n      margin: 0,\n      marginTop: '32px',\n      marginLeft: '24px',\n    },\n  },\n  \n  apply: {\n    // \"background-image\": \"linear-gradient( 135deg, #3C8CE7 10%, #00EAFF 100%)\",\n    boxShadow: '0 2px 4px 0 #ccc',\n    backgroundColor: 'white',\n    borderRadius: 8,\n    marginBottom: 32,\n  },\n  label: {\n    textAlign: \"center\",\n    fontSize: 16,\n    margin: 0,\n    padding: 8,\n    marginBottom: 16,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n  },\n  teaching: {\n    // \"background-image\": \"linear-gradient( 135deg, #70F570 10%, #49C628 100%)\",\n    boxShadow: '0 2px 4px 0 #ccc',\n    backgroundColor: 'white',\n    borderRadius: 8,\n    marginBottom: 32,\n  },\n  // teachingLabel: {\n  //   textAlign: \"center\",\n  //   fontSize: 16,\n  //   margin: 0,\n  //   padding: 8,\n  //   marginBottom: 16,\n  //   borderTopLeftRadius: 8,\n  //   borderTopRightRadius: 8,\n  // },\n  none: {\n    textAlign: 'center',\n    fontWeight: 300,\n    margin: 0,\n    fontStyle: 'italic',\n  }\n}))\n\nexport default TutorInfor;\n"],"sourceRoot":""}