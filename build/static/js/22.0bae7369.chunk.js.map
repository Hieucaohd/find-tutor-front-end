{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","features/Parent/parent.js","features/Parent/ParentInfor.jsx"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","deleteRoom","a","token","roomId","fetch","server_name","method","headers","Authorization","token_prefix","response","json","responseJSON","alert","console","log","useStyles","makeStyles","root","padding","addRoom","position","top","left","backgroundColor","border","fontSize","cursor","none","fontStyle","ParentInfor","classes","useSelector","selectToken","parentId","selectId_of_user","typeParent","selectType_parent","history","useHistory","useState","parentRoomList","setParentRoomList","handleDeleteRoom","id","newParentRoomList","filter","room","Number","useEffect","getList","GetAllParentRoom","parentRooms","className","isSignedIn","onClick","push","length","Grid","container","map","Room","type","onDelete"],"mappings":"+JAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,sLIHjFC,EAAU,uCAAG,mCAAAC,EAAA,6DAAQC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,OAAf,kBAEKC,MAAM,GAAD,OAAIC,cAAJ,iCAAwCF,GAAU,CAC1EG,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,GAAD,OAAKC,eAAL,YAAqBP,MANtB,cAEZQ,EAFY,gBASSA,EAASC,OATlB,cASZC,EATY,yBAUXA,GAVW,kCAYlBC,MAAM,qCACNC,QAAQC,IAAI,iCAAZ,MAbkB,0DAAH,sD,OCiDvB,IAAMC,EAAYC,YAAW,CACzBC,KAAM,CACFC,QAAS,aAEbC,QAAS,CACLC,SAAU,QACVC,IAAK,MACLC,KAAM,MACNC,gBAAiB,cACjBC,OAAQ,OACRC,SAAU,OACV,UAAW,CACPC,OAAQ,YAGhBC,KAAM,CACFC,UAAW,SACXR,SAAU,QACVC,IAAK,IACLC,KAAM,MAICO,UA/Df,WACI,IAAMC,EAAUf,IACVd,EAAQ8B,YAAYC,KACpBC,EAAWF,YAAYG,KACvBC,EAAaJ,YAAYK,KACzBC,EAAUC,cAChB,EAA4CC,mBAAS,IAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KAEMC,EAAgB,uCAAG,WAAOC,GAAP,eAAA3C,EAAA,6DACjB4C,EADiB,YACOJ,GADP,SAEKI,EAAkBC,QAAQ,SAACC,GAAD,OAAUC,OAAOD,EAAKH,MAAQI,OAAOJ,MAFpE,cAErBC,EAFqB,OAGrBH,EAAkBG,GAHG,SAIf7C,EAAW,CAAEG,OAAQyC,EAAI1C,MAAOA,IAJjB,2CAAH,sDAoBtB,OAbA+C,qBAAY,WACR,IAAMC,EAAO,uCAAG,4BAAAjD,EAAA,sEACckD,YAAiBjB,GAD/B,OACNkB,EADM,OAEZV,EAAkBU,GAFN,2CAAH,qDAIbF,MACD,CAAChB,IAQA,sBAAKmB,UAAWtB,EAAQb,KAAxB,UACKoC,eAAgBlB,GAAc,wBAAQmB,QAPlB,WACzBjB,EAAQkB,KAAK,gBAM6DH,UAAWtB,EAAQX,QAA1D,SAAmE,cAAC,IAAD,MACvE,IAA1BqB,EAAegB,OAAe,cAACC,EAAA,EAAD,CAAMC,WAAS,EAACN,UAAWtB,EAAQb,KAAnC,gBAC1BuB,QAD0B,IAC1BA,OAD0B,EAC1BA,EAAgBmB,KAAK,SAACb,GAAD,OAClB,cAACc,EAAA,EAAD,CAAMd,KAAI,2BAAMA,GAAN,IAAY5C,OAAQ4C,EAAKH,KAAKkB,KAAK,WAAWC,SAAUpB,SAEhE,sBAAMU,UAAWtB,EAAQH,KAAzB","file":"static/js/22.0bae7369.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { server_name, token_prefix } from \"../../namespace\";\n\nexport const deleteRoom = async ({token, roomId}) => {\n    try {\n        const response = await fetch(`${server_name}/findTutor/roomDetail/${roomId}`, {\n            method: \"DELETE\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `${token_prefix} ${token}`,\n            },\n        });\n        const responseJSON = await response.json();\n        return responseJSON;\n    } catch (error) {\n        alert('Không thể xóa phòng');\n        console.log(\"Failed to delete parent room: \", error)\n    }\n}","import { Grid, makeStyles } from '@material-ui/core';\nimport Room from 'components/Room/Room';\nimport { isSignedIn } from 'features/auth/cookies';\nimport { GetAllParentRoom } from 'graphql/RoomQueries';\nimport React, { useEffect, useState } from 'react';\nimport { FcAddDatabase } from 'react-icons/fc';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { selectId_of_user, selectToken, selectType_parent } from '../auth/authSlice';\nimport { deleteRoom } from './parent';\n\nfunction ParentInfor() {\n    const classes = useStyles();\n    const token = useSelector(selectToken);\n    const parentId = useSelector(selectId_of_user);\n    const typeParent = useSelector(selectType_parent);\n    const history = useHistory();\n    const [parentRoomList, setParentRoomList] = useState([]);\n\n    const handleDeleteRoom = async (id) => {\n        let newParentRoomList = [...parentRoomList];\n        newParentRoomList = await newParentRoomList.filter( (room) => Number(room.id) !== Number(id));\n        setParentRoomList(newParentRoomList);\n        await deleteRoom({ roomId: id, token: token });\n    }\n    \n    useEffect ( ()=> {\n        const getList = async () => {\n            const parentRooms = await GetAllParentRoom(parentId);\n            setParentRoomList(parentRooms);\n        }\n        getList();\n    }, [parentId])\n\n    const handleShowCreateRoom = () => {\n        history.push(\"/createroom\");\n    };\n \n\n    return (\n        <div className={classes.root}>\n            {isSignedIn() && typeParent && <button onClick={handleShowCreateRoom} className={classes.addRoom}><FcAddDatabase /></button>}\n            {parentRoomList.length !== 0 ? <Grid container className={classes.root}>\n                {parentRoomList?.map( (room)=> (\n                    <Room room={{...room, roomId: room.id}} type=\"userroom\" onDelete={handleDeleteRoom}/>\n                ))}\n            </Grid> : <span className={classes.none}>Bạn chưa tạo phòng nào</span>}\n        </div>\n    )\n}\n\nconst useStyles = makeStyles({\n    root: {\n        padding: '48px 28px',\n    },\n    addRoom: {\n        position: 'fixed',\n        top: '40%',\n        left: '8px',\n        backgroundColor: 'transparent',\n        border: 'none',\n        fontSize: '32px',\n        \"&:hover\": {\n            cursor: 'pointer',\n        }\n    },\n    none: {\n        fontStyle: 'italic',\n        position: 'fixed',\n        top: 100,\n        left: 72,\n    }\n})\n\nexport default ParentInfor"],"sourceRoot":""}