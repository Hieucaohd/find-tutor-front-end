{"version":3,"sources":["components/Modal/Modal.jsx","axios/profile.js","features/Settings/components/ChangePassword.jsx","features/Settings/components/SettingsAccount.jsx"],"names":["useStyles","makeStyles","root","position","top","left","right","bottom","display","justifyContent","alignItems","backgroundColor","fontSize","modal","width","height","borderRadius","flexDirection","padding","text","margin","buttonGroup","border","opacity","color","cursor","delete","check","agree","disagree","Modal","typeIcon","onAgree","onDisagree","classes","className","div","animate","scale","transition","duration","onClick","registerTutorInfor","a","tutorInfor","dispatch","axios","method","url","server_name","headers","Authorization","token_prefix","localStorage","getItem","data","then","response","setTutorTrue","catch","error","console","log","registerParentInfor","parentInfor","setParentTrue","registerImage","token","file","updateAvatar","updateTutorProfile","newTutorInfo","id","updateParentProfile","newParentInfo","updateLink","newLink","changePassword","oldPassword","newPassword","ChangePassword","onClose","onSubmit","useForm","register","errors","formState","handleSubmit","watch","newpassword","useRef","current","oldpassword","style","fontWeight","type","required","minLength","validate","value","renewpassword","SettingsAccount","props","userName","useSelector","selectUsername","email","selectEmail","useState","showChangePassword","setShowChangePassword","showLoading","setShowLoading","showSuccessModal","setShowSuccessModal","showFailedModal","setShowFailedModal","handleChangePassword","disabled","defaultValue","Loading"],"mappings":"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","file":"static/js/23.7075b94d.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TiDeleteOutline, TiInfoOutline, TiInputChecked } from \"react-icons/ti\";\nimport { motion } from \"framer-motion\";\n\nModal.propTypes = {\n    text: PropTypes.string,\n    onAgree: PropTypes.func,\n    onDisagree: PropTypes.func,\n};\n\nfunction Modal({typeIcon, text, onAgree = null, onDisagree = null}) {\n    const classes = useStyles();\n    const handleAgree = () => {\n        onAgree();\n    }\n    const handleDisagree = () => {\n        onDisagree();\n    }\n    return (\n        <div className={classes.root}>\n            <motion.div animate={{ scale: 1.1 }}\n    transition={{ duration: 0.1 }} className={classes.modal}>\n                {typeIcon === 'delete' && <TiDeleteOutline className={classes.delete}/>}\n                {typeIcon === 'check' && <TiInputChecked className={classes.check}/>}\n                {typeIcon === 'fail' && <TiInfoOutline className={classes.delete}/>}\n                <p className={classes.text}>\n                    {text}\n                </p>\n                <div className={classes.buttonGroup}>\n                    {onAgree && <button className={classes.agree} onClick={handleAgree}>\n                        Tiếp tục\n                    </button>}\n                    {onDisagree && <button className={classes.disagree} onClick={handleDisagree}>\n                        Hủy\n                    </button>}\n                </div>\n            </motion.div>\n        </div>\n    );\n}\n\nconst useStyles = makeStyles({\n    root: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"rgba(0,0,0,0.5)\", /* Black background with opacity */\n        \"z-index\": \"899\",\n        \"& svg\": {\n            fontSize: 80,\n        }\n    },\n    modal: {\n        width: \"308px\",\n        height: \"172px\",\n        backgroundColor: \"white\",\n        borderRadius: \"4px\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        padding: 8,\n    },\n    text: {\n        fontSize: \"16px\",\n        margin: 0,\n    },\n    buttonGroup: {\n        // display: \"flex\",\n        // position: 'absolute',\n        // right: \"12px\",\n        // bottom: \"12px\",\n        \"& button\": {\n            // backgroundColor: \"transparent\",\n            border: \"none\",\n            fontSize: \"16px\",\n            // color: \"#1976D2\",\n            opacity: \"0.6\",\n            margin: \"0 8px\",\n            padding: '4px 8px',\n            borderRadius: 4,\n            color: 'white',\n            \"&:hover\": {\n                cursor: \"pointer\",\n                opacity: \"1\",\n            }\n        }\n    },\n    delete: {\n        color: 'red',\n    },\n    check: {\n        color: '#00AA85',\n    }, \n    agree: {\n        backgroundColor: '#0061FF',\n    },\n    disagree: {\n        backgroundColor: '#AAAAAA',\n    }\n})\n\nexport default Modal;","import axios from \"axios\";\nimport { setParentTrue, setTutorTrue } from \"features/auth/authSlice\";\nimport { server_name, token_prefix } from \"namespace\";\n\nexport const registerTutorInfor = async ({ tutorInfor, dispatch }) => {\n    return axios({\n        method: \"post\",\n        url: `${server_name}/findTutor/tutorList/`,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: tutorInfor,\n    }).then(response => {\n        if(response.data) {\n            dispatch(setTutorTrue());\n            return true;\n        }\n    }).catch(error => {\n        console.log('Failed to resgister tutor', error);\n        return false;\n    })\n  };\n  \nexport const registerParentInfor = async ({parentInfor, dispatch }) => {\n    return axios({\n        method: \"post\",\n        url: `${server_name}/findTutor/parentList/`,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: parentInfor,\n    }).then(response => {\n        if(response.data) {\n            dispatch(setParentTrue());\n            return true;\n        }\n    }).catch(error => {\n        console.log('Failed to resgister tutor', error);\n        return false;\n    })\n};\n  \nexport const registerImage = async ({token, file}) => {\n    try {\n      const data = file;\n      axios({\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        url: `${server_name}/findTutor/imagePrivateUserList/`,\n        data\n      })\n      return true;\n    } catch(error) {\n      console.log('Failed to register image ', error);\n      return false;\n    }\n}\n\nexport const updateAvatar = ({file}) => {\n    return axios({\n        method: \"PUT\",\n        url: `${server_name}/findTutor/imagePrivateUserDetail/`,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: file\n      }).then(response => {\n        if(response.data) return true;\n      }).catch(error => {\n          console.log(\"Failed to update avatar: \", error);\n          return false;\n      })\n}\n\nexport const updateTutorProfile = async ({newTutorInfo, id}) => {\n    console.log(newTutorInfo);\n    return axios({\n        method: \"put\",\n        url: `${server_name}/findTutor/tutorDetail/${id}`,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: newTutorInfo,\n    }).then(response => {\n        console.log(response);\n        if(response) return true;\n    }).catch(error => {\n        console.log(\"Failed to update tutor's profile: \", error);\n        return false;\n    })\n}\n\nexport const updateParentProfile = async ({newParentInfo, id}) => {\n    console.log(newParentInfo);\n    return axios({\n        method: \"put\",\n        url: `${server_name}/findTutor/parentDetail/${id}`,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: newParentInfo,\n    }).then(response => {\n        console.log(response);\n        if(response) return true;\n    }).catch(error => {\n        console.log(\"Failed to update parent's profile: \", error);\n        return false;\n    })\n}\n\nexport const updateLink = async ({ token, newLink}) => {\n    return axios({\n        method: \"put\",\n        url: `${server_name}/auth/updateMultipleLink/`,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: newLink,\n    }).then(response => {\n        if(response) return true;\n    }).catch(error => {\n        console.log(\"Failed to update user's link: \", error);\n        return false;\n    })\n} \n\n\nexport const changePassword = async ({token, oldPassword, newPassword}) => {\n    return axios({\n        method: \"put\",\n        url: `${server_name}/auth/changePassword/`,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `${token_prefix} ${localStorage.getItem('token')}`,\n        },\n        data: {\n            \"old_password\": oldPassword,\n            \"new_password\": newPassword,\n        }\n    }).then((response) => {\n        if(response) return true;\n    }).catch(error => {\n        console.log(\"Failed to change password: \", error);\n        return false;\n    })\n}\n","import React from 'react';\nimport { useRef } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { AiFillCloseCircle } from 'react-icons/ai';\nimport { RiLockPasswordFill } from 'react-icons/ri';\n\nfunction ChangePassword({onClose, onSubmit}) {\n    const {register, formState: { errors }, handleSubmit, watch} = useForm();\n    const newpassword = useRef({});\n    newpassword.current = watch(\"newpassword\", \"\");\n\n    const handleChangePassword = ({oldpassword, newpassword}) => {\n        if(!onSubmit) return;\n        onSubmit({\n            oldPassword: oldpassword,\n            newPassword: newpassword,\n        })\n    }\n    \n    return (\n        <div className=\"settings__password\">\n            <div className=\"settings__overlay\" onClick={() => onClose()}></div>\n                <form className=\"settings__password__main\" onSubmit={handleSubmit(handleChangePassword)}>\n                    <AiFillCloseCircle className=\"settings__close\" onClick={() => onClose()} />\n                    <label style={{fontWeight: 700}}>Đổi mật khẩu <RiLockPasswordFill /></label>\n                    <div style={{padding: \"12px 16px\"}}>\n                    <div className=\"settings__field\" style={{width: 240}}>\n                        <label>Mật khẩu cũ</label>\n                        <input type=\"password\" {...register(\"oldpassword\", { required: true, minLength: 6})}/>\n                        \n                        {errors.oldpassword && \n                            <span className=\"settings__field__error\">Mật khẩu cần ít nhất 6 kí tự</span>}    \n                    </div>\n                    <div className=\"settings__field\">\n                        <label>Mật khẩu mới</label>\n                        <input type=\"password\" {...register(\"newpassword\", { required: true, minLength: 6})}/>\n                        {errors.newpassword && \n                            <span className=\"settings__field__error\">Mật khẩu mới cần ít nhất 6 kí tự</span>}    \n                    </div>\n                    <div className=\"settings__field\">\n                        <label>Nhập lại mật khẩu</label>\n                        <input type=\"password\" \n                            {...register(\"renewpassword\", {\n                                validate: value =>\n                                value === newpassword.current || \"The passwords do not match\"\n                        })}\n                        />\n                        \n                        {errors.renewpassword && \n                            <span className=\"settings__field__error\">Mật khẩu không trùng khớp</span>}\n                    </div>\n                    <button type=\"submit\">Lưu</button>\n                    </div>\n                </form>\n        </div>\n    );\n}\n\nexport default ChangePassword;","import { changePassword } from 'axios/profile';\nimport Loading from 'components/Loading/Loading';\nimport Modal from 'components/Modal/Modal';\nimport { selectEmail, selectUsername } from 'features/auth/authSlice';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport ChangePassword from './ChangePassword';\n\nfunction SettingsAccount(props) {\n    const userName = useSelector(selectUsername);\n    const email = useSelector(selectEmail);\n    const [showChangePassword, setShowChangePassword] = useState(false);\n    const [showLoading, setShowLoading] = useState(false);\n    const [showSuccessModal, setShowSuccessModal] = useState(false);\n    const [showFailedModal, setShowFailedModal] = useState(false);\n\n    const handleChangePassword = async ({oldPassword, newPassword}) => {\n        setShowLoading(true);\n        const response = await changePassword({\n            oldPassword: oldPassword,\n            newPassword: newPassword,\n        })\n        setShowLoading(false);\n        if(response) {\n            setShowSuccessModal(true);\n        } else {\n            setShowFailedModal(true);\n        }\n    }\n\n    return (\n        <div className=\"settings__account\">\n            <div className=\"settings__field\">\n                <label>Tên tài khoản</label>\n                <input type=\"text\" disabled defaultValue={userName}/>\n            </div>\n            <div className=\"settings__field\">\n                <label>Email</label>\n                <input type=\"text\" disabled defaultValue={email}/>\n            </div>\n            <div className=\"settings__field\">\n                <label>Mật khẩu</label>\n                <button onClick={() => setShowChangePassword(true)}>Đổi mật khẩu</button>\n            </div>\n            {showChangePassword && <ChangePassword onClose={()=>setShowChangePassword(false)} onSubmit={handleChangePassword}/>}\n            {showLoading && <Loading />}\n            {showSuccessModal && <Modal typeIcon=\"check\" text=\"Đổi mật khẩu thành công\" onAgree={() => {setShowChangePassword(false);setShowSuccessModal(false)}}/>}\n            {showFailedModal && <Modal typeIcon=\"fail\" text=\"Đổi mật khẩu không thành công\" onAgree={() => setShowFailedModal(false)} />}\n        </div>\n    );\n}\n\nexport default SettingsAccount;"],"sourceRoot":""}